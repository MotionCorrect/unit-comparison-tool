import{a as l,t as p,c as pa,b as ua}from"../chunks/disclose-version.iW0qSyoW.js";import"../chunks/legacy.JF8MfT_v.js";import{p as Mt,l as nt,a as Pt,b as Ct,g as a,d as Va,ab as Ot,c as t,s as r,r as e,t as d,m as La,ac as ea,ad as ga}from"../chunks/runtime.7jUv2Dyy.js";import{s as i}from"../chunks/render.TDnE1tZP.js";import{i as u}from"../chunks/if.CW4Kzy0i.js";import{e as Na,i as Ia}from"../chunks/each.Cts97b-y.js";import{N as zt,l as Et,s as We,u as St,a as Vt,b as Bt,c as Ht}from"../chunks/Navbar.C5VETPTV.js";import{e as Tt}from"../chunks/events.olTridf3.js";import{p as Ut,i as Wt,a as At,g as Ba,t as Rt,f as te,b as Ft,s as Lt}from"../chunks/propertyDisplay.DYZzsKB_.js";import{i as Nt}from"../chunks/lifecycle.LCaU2pS-.js";import{s as It,a as Ge}from"../chunks/store.CqbNW2AY.js";import{o as Kt}from"../chunks/index-client.CuyGrnjy.js";import{s as qt}from"../chunks/entry.CoO23ZcS.js";import{b as vt}from"../chunks/paths.CBQEvhbu.js";const Jt=()=>{const Ka=qt;return{page:{subscribe:Ka.page.subscribe},navigating:{subscribe:Ka.navigating.subscribe},updated:Ka.updated}},Dt={subscribe(Ka){return Jt().page.subscribe(Ka)}};var Gt=p('<span class="rounded-full bg-pink-500/20 px-3 py-1 text-sm font-medium text-pink-400"> </span>'),Qt=p('<span class="rounded-full bg-red-500/20 px-3 py-1 text-sm font-medium text-red-400"> </span>'),Xt=p('<div class="fixed inset-0 z-50 flex items-center justify-center bg-gray-900/70 backdrop-blur-sm"><div class="rounded-lg bg-gray-800 p-6 shadow-xl"><div class="flex flex-col items-center justify-center space-y-4"><div class="h-12 w-12 animate-spin rounded-full border-4 border-teal-400/20 border-t-teal-400"></div> <p class="text-lg text-gray-300">Loading unit data...</p></div></div></div>'),Yt=p('<button class="text-gray-400 transition-colors hover:text-white"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button>'),Zt=p('<span class="rounded-full bg-purple-500/20 px-2 py-0.5 text-xs text-purple-400"> </span>'),$t=p('<span class="rounded-full bg-pink-500/20 px-2 py-0.5 text-xs text-pink-400"> </span>'),as=p('<div class="mt-2 grid grid-cols-3 gap-2 text-xs"><div class="flex justify-between rounded bg-gray-700/30 px-2 py-1"><span class="text-gray-400">Health:</span> <span class="font-medium text-red-400"> </span></div> <div class="flex justify-between rounded bg-gray-700/30 px-2 py-1"><span class="text-gray-400">Metal:</span> <span class="font-medium text-blue-400"> </span></div> <div class="flex justify-between rounded bg-gray-700/30 px-2 py-1"><span class="text-gray-400">Build:</span> <span class="font-medium text-green-400"> </span></div></div>'),es=p('<div class="mt-2 grid grid-cols-3 gap-2 text-xs"><div class="flex justify-between rounded bg-gray-700/30 px-2 py-1"><span class="text-gray-400">Health:</span> <span class="font-medium text-red-400"> </span></div> <div class="flex justify-between rounded bg-gray-700/30 px-2 py-1"><span class="text-gray-400">Metal:</span> <span class="font-medium text-blue-400"> </span></div> <div class="flex justify-between rounded bg-gray-700/30 px-2 py-1"><span class="text-gray-400">Build:</span> <span class="font-medium text-green-400"> </span></div></div>'),ts=p('<a class="group relative flex items-start gap-3 rounded-lg bg-gray-800/90 p-3 transition-all hover:bg-gray-700/80 hover:shadow-md"><div class="flex h-12 w-12 shrink-0 items-center justify-center rounded-md bg-gray-700/70 text-lg font-bold text-teal-300"> </div> <div class="flex flex-1 flex-col"><div class="flex items-center justify-between"><span class="text-base font-medium text-white"> </span> <div class="absolute right-3 top-3 flex items-center gap-1.5 opacity-0 transition-opacity group-hover:opacity-100"><span class="rounded bg-blue-500/20 px-2 py-0.5 text-xs font-medium text-blue-400"> </span></div></div> <div class="mt-1 flex flex-wrap gap-1.5"><span class="rounded-full bg-teal-500/20 px-2 py-0.5 text-xs text-teal-400"> </span> <!> <!></div> <!></div></a>'),ss=p('<div class="max-h-96 overflow-y-auto rounded-lg bg-gray-800/70 p-2"><div class="mb-3 flex items-center justify-between border-b border-gray-700/50 pb-2"><h3 class="font-medium text-white"> </h3> <span class="rounded-full bg-teal-500/20 px-2 py-0.5 text-xs text-teal-400"> </span></div> <div class="grid gap-2 sm:grid-cols-1"></div></div>'),rs=p('<div class="flex items-center justify-center rounded-lg bg-gray-800/50 p-4"><span class="text-sm text-gray-400">No build options available</span></div>'),ls=p('<div class="flex items-center gap-2"><span class="text-gray-500"> </span> <span class="text-gray-200"> </span></div>'),is=p('<div class="flex items-center gap-2"><span class="text-gray-500"> </span> <span class="text-gray-200"> </span></div>'),ds=p('<div class="flex items-center gap-2 rounded px-2 text-sm text-gray-400 hover:bg-gray-800/50"><span> </span> <div class="ml-4 space-y-1"><!></div></div>'),ns=p('<div class="flex items-center gap-2 rounded px-2 hover:bg-gray-800/50"><span class="text-sm text-gray-400"> </span> <span class="text-sm text-gray-200"> </span></div>'),vs=p('<div class="py-1"><!></div>'),os=p('<div><div class="rounded-lg border border-gray-700/50 bg-gray-900/95 p-4 shadow-xl"><div class="max-h-80 overflow-y-auto"><!></div></div></div>'),cs=p('<div class="mt-1 font-medium text-white"><!></div>'),ms=p('<div class="relative rounded-lg bg-gray-800/50 p-4 transition-colors hover:bg-gray-700/50"><div class="flex items-center justify-between"><span class="text-sm text-gray-400"> </span> <!></div> <!></div>'),ps=p('<div class="flex gap-4"><span class="rounded-full bg-red-500/20 px-3 py-1 text-sm font-medium text-red-400"> </span> <span class="rounded-full bg-blue-500/20 px-3 py-1 text-sm font-medium text-blue-400"> </span></div>'),us=p('<div class="mb-2 inline-block rounded-full bg-yellow-500/20 px-3 py-1 text-xs font-medium text-yellow-400">EMP Weapon</div>'),gs=p('<div class="mb-2 inline-block rounded-full bg-orange-500/20 px-3 py-1 text-xs font-medium text-orange-400">Special Weapon</div>'),xs=p('<div class="flex justify-between"><span class="text-gray-400"> </span> <span class="font-medium text-yellow-400"> </span></div>'),fs=p('<div class="flex justify-between"><span class="text-gray-400">Burst</span> <span class="font-medium text-green-400"> </span></div>'),_s=p('<div class="rounded-lg border border-gray-700/30 bg-gray-800/50 p-4 transition-colors hover:bg-gray-700/50"><h3 class="mb-2 font-medium text-white"> </h3> <!> <!> <div class="space-y-3 text-sm"><div class="flex justify-between"><span class="text-gray-400">Damage</span> <span class="font-medium text-red-400"> </span></div> <div class="flex justify-between"><span class="text-gray-400">DPS</span> <span class="font-medium text-orange-400"><!></span></div> <!> <!> <div class="flex justify-between"><span class="text-gray-400">Range</span> <span class="font-medium text-blue-400"> </span></div> <div class="flex justify-between"><span class="text-gray-400">Reload Time</span> <span class="font-medium text-purple-400"> </span></div></div></div>'),bs=p('<div class="mt-8 border-t border-gray-700/50 pt-6"><div class="mb-4 flex items-center justify-between"><h3 class="text-lg font-semibold text-white">Weapons</h3> <!></div> <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3"></div></div>'),ys=p('<section class="rounded-xl bg-gray-800/30 p-6"><div class="mb-6 flex items-center gap-3"><svg class="h-6 w-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path></svg> <h2 class="text-xl font-semibold capitalize text-white"> </h2></div> <div class="grid gap-4 md:grid-cols-2 xl:grid-cols-3"></div> <!></section>'),hs=p('<div class="rounded-lg bg-gray-800/50 p-4 transition-colors hover:bg-gray-700/50"><span class="text-sm text-gray-400"> </span> <div class="mt-1 font-medium text-white"> </div></div>'),ws=p('<section class="rounded-xl bg-gray-800/30 p-6"><h2 class="text-xl font-semibold text-white">Custom Parameters</h2> <div class="grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"></div></section>'),js=p('<div class="space-y-8"><header class="mb-8"><div class="mb-4 flex items-center justify-between"><h1 class="bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-4xl font-bold text-transparent"> </h1> <a class="rounded-lg bg-gray-800/50 px-4 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-700/50">Back to Explorer</a></div> <div class="flex flex-wrap gap-3"><span class="rounded-full bg-teal-500/20 px-3 py-1 text-sm font-medium text-teal-400"> </span> <span class="rounded-full bg-orange-500/20 px-3 py-1 text-sm font-medium text-orange-400"> </span> <!> <span class="rounded-full bg-purple-500/20 px-3 py-1 text-sm font-medium text-purple-400"> </span> <!></div></header> <!> <!> <!></div>'),ks=p('<div class="flex h-[60vh] items-center justify-center text-center"><div><h2 class="mb-2 text-2xl text-gray-400">Loading unit data...</h2> <p class="text-gray-500">Please wait while we fetch the information.</p></div></div>'),Ms=p('<div class="min-h-screen bg-gray-900 text-gray-100"><!> <div class="container mx-auto max-w-7xl px-4 py-8"><!></div></div>');function Fs(Ka,Qe){Mt(Qe,!1);const Ae=It(),Xe=()=>Ge(Dt,"$page",Ae),C=()=>Ge(St,"$unitsData",Ae),Re=()=>Ge(Vt,"$unitNamesDetails",Ae),k=La();let M=La(null),w=La(null),Ye=La(""),Ze=La({}),Ee=La([]),Fe=La(!1);async function $e(n){var b,xa,ra,la,Pa,A;Va(Fe,!0),await Et(),C()&&Re()&&(Va(M,C()[n]),Va(w,((xa=(b=a(M))==null?void 0:b.data)==null?void 0:xa[n])||{}),!a(w).maxdamage&&((A=(Pa=(la=(ra=a(M))==null?void 0:ra.data)==null?void 0:la[n])==null?void 0:Pa[n])!=null&&A.maxdamage)&&Ot(w,a(w).maxdamage=a(M).data[n][n].maxdamage),Va(Ye,Re().units.names[n]||n),Va(Ze,ot(a(w))),Va(Ee,Ut(a(w).weapondefs||{}))),Va(Fe,!1)}Kt(async()=>{a(k)&&await $e(a(k))});function at(){return Ft(a(Ee),a(w),a(k))}function ot(n){const b=["name","faction","type","subtype","path","description","unitname","side","icontype","script","buildpic","category","customparams"],xa=["health","maxdamage","damagemodifier","armorType","seismicdistance","seismicsignature","hidedamage","autoheal","idleautoheal","idletime","mass","footprintx","footprintz"],ra=["maxvelocity","acceleration","brakerate","turnradius","turnrate","turninplace","turninplaceanglelimit","turninplacespeedlimit","movementclass","moverate1","cruisealt","cruisealtitude","amphibious","floater","upright","canhover","canfly","canmove","canland","airstrafe","airhoverfactor","hoverattack","leavetracks","trackoffset","trackstretch","trackstrength","tracktype","trackwidth","maxacc","maxdec","speed","transportcapacity"],la=["canattack","canattackground","canmanualfire","canpatrol","canrepeat","canresurrect","cancloak","cancapture","weapondefs","weapons","radardistance","radardistancejam","sonardistance","sonarstealth","stealth","cloaked","cloakcost","cloakcostmoving","initcloak","firestate","standingmoveorder","strafetoattack","hightrajectory","kamikaze","kamikazedistance","sightdistance","airsightdistance","onlytargetcategory2","exemptcategory","radarEmitHeight","noautofire","nochase","nochasecategory","turret"],Pa=["buildcostenergy","buildcostmetal","buildtime","energycost","energymake","energypershot","energystorage","energyupkeep","extractsmetal","metalcost","metalmake","metalstorage","terraformspeed","workertime","capture","reclaimable","reclaimspeed","repairable","buildoptions"],A={general:{},stats:{},movement:{},combat:{},resources:{},custom:{}};return Object.entries(n).forEach(([E,D])=>{b.includes(E)?A.general[E]=D:xa.includes(E)?A.stats[E]=D:ra.includes(E)?A.movement[E]=D:la.includes(E)?A.combat[E]=D:Pa.includes(E)?A.resources[E]=D:A.custom[E]=D}),A}function Le(n){return typeof n=="object"&&n!==null}let Ma=La(new Set);function ct(n){a(Ma).has(n)?a(Ma).delete(n):a(Ma).add(n),Va(Ma,a(Ma))}function mt(n){const b={general:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stats:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",movement:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z",combat:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064",resources:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",custom:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"};return b[n]||b.general}function pt(n){if(!n)return"bottom";const b=n.getBoundingClientRect();return window.innerHeight-b.bottom<400?"top":"bottom"}function Ne(n,b){var ra,la,Pa,A,E,D,Se,Ga,Ve;return[n==null?void 0:n.maxdamage,n==null?void 0:n.health,(ra=n==null?void 0:n[b])==null?void 0:ra.maxdamage,(la=n==null?void 0:n[b])==null?void 0:la.health,(D=(E=(A=(Pa=a(M))==null?void 0:Pa.data)==null?void 0:A[b])==null?void 0:E[b])==null?void 0:D.maxdamage,(Ve=(Ga=(Se=a(M))==null?void 0:Se.data)==null?void 0:Ga[b])==null?void 0:Ve.maxdamage].find(Be=>Be!==void 0)||0}nt(()=>Xe(),()=>{Va(k,Xe().url.searchParams.get("name"))}),nt(()=>a(k),()=>{a(k)&&$e(a(k))}),Pt(),Nt();var Ie=Ms(),et=t(Ie);zt(et);var tt=r(et,2),ut=t(tt);{var gt=n=>{var b=js(),xa=t(b),ra=t(xa),la=t(ra),Pa=t(la,!0);e(la);var A=r(la,2);We(A,"href",`${vt??""}/explore`),e(ra);var E=r(ra,2),D=t(E),Se=t(D,!0);e(D);var Ga=r(D,2),Ve=t(Ga,!0);e(Ga);var Be=r(Ga,2);{var ft=S=>{var T=Gt(),fa=t(T,!0);e(T),d(()=>i(fa,a(M).subtype)),l(S,T)};u(Be,S=>{a(M).subtype!=="none"&&S(ft)})}var Ke=r(Be,2),_t=t(Ke);e(Ke);var bt=r(Ke,2);{var yt=S=>{var T=Qt(),fa=t(T,!0);d(()=>i(fa,At(a(w))?"Mine":"Suicide Unit")),e(T),l(S,T)};u(bt,S=>{Wt(a(w))&&S(yt)})}e(E),e(xa);var st=r(xa,2);{var ht=S=>{var T=Xt();l(S,T)};u(st,S=>{a(Fe)&&S(ht)})}var rt=r(st,2);Na(rt,1,()=>Object.entries(a(Ze)),Ia,(S,T)=>{let fa=()=>a(T)[0],qe=()=>a(T)[1];var Qa=ys(),Xa=t(Qa),se=t(Xa),re=t(se);d(()=>We(re,"d",mt(fa()))),e(se);var Ya=r(se,2),Je=t(Ya,!0);e(Ya),e(Xa);var Za=r(Xa,2);Na(Za,5,()=>Object.entries(qe()),Ia,(le,$a)=>{let y=()=>a($a)[0],R=()=>a($a)[1];var ie=ms(),ae=t(ie),Ca=t(ae),P=t(Ca,!0);d(()=>i(P,Ba(y()))),e(Ca);var Ha=r(Ca,2);{var Oa=G=>{var V=Yt();d(()=>We(V,"aria-label",a(Ma).has(y())?"Collapse details":"Expand details"));var Ta=t(V);const _a=ea(()=>`h-5 w-5 transform transition-transform ${(a(Ma).has(y())?"rotate-180":"")??""}`);e(V),d(()=>Bt(Ta,a(_a))),Tt("click",V,()=>ct(y())),l(G,V)};u(Ha,G=>{Le(R())&&G(Oa)})}e(ae);var de=r(ae,2);{var qa=G=>{var V=os();const Ta=ea(()=>`absolute z-10 w-96 ${(pt(a(Ma).has(y())?document.activeElement:null)==="top"?"bottom-full mb-2":"top-full mt-2")??""}`);var _a=t(V),Ja=t(_a),ba=t(Ja);{var ia=ya=>{var ha=ss(),I=t(ha),K=t(I),za=t(K);d(()=>i(za,`Buildable Units (${Object.values(R()).length??""})`)),e(K);var j=r(K,2),Q=t(j);e(j),e(I);var O=r(I,2);Na(O,5,()=>Object.values(R()),Ia,(F,s)=>{var B=ts();const _=ea(()=>{var o;return((o=C())==null?void 0:o[a(s)])||{}}),H=ea(()=>{var o;return((o=a(_))==null?void 0:o.tech_level)||1});var v=t(B),f=t(v,!0);d(()=>i(f,a(s).slice(0,2).toUpperCase())),e(v);var z=r(v,2),h=t(z),x=t(h),g=t(x,!0);e(x);var U=r(x,2),X=t(U),wa=t(X);e(X),e(U),e(h);var L=r(h,2),q=t(L),Y=t(q,!0);e(q);var Z=r(q,2);{var ja=o=>{var c=Zt(),m=t(c,!0);e(c),d(()=>i(m,a(_).type)),l(o,c)};u(Z,o=>{var c;(c=a(_))!=null&&c.type&&o(ja)})}var N=r(Z,2);{var W=o=>{var c=$t(),m=t(c,!0);e(c),d(()=>i(m,a(_).subtype)),l(o,c)};u(N,o=>{var c;(c=a(_))!=null&&c.subtype&&a(_).subtype!=="none"&&o(W)})}e(L);var ta=r(L,2);{var $=o=>{var c=as();const m=ea(()=>a(_).data[a(s)]),aa=ea(()=>{var J,da,na,va,oa,ca,ma,Aa,Ra,Fa,oe,ce,me,pe,ue,ge,xe,fe,_e,be,ye,he,we,je,ke,Me,Pe,Ce,Oe,ze,lt,it,dt;return[(J=a(m))==null?void 0:J.buildcostmetal,(na=(da=a(m))==null?void 0:da[a(s)])==null?void 0:na.buildcostmetal,(ma=(ca=(oa=(va=C())==null?void 0:va[a(s)])==null?void 0:oa.data)==null?void 0:ca[a(s)])==null?void 0:ma.buildcostmetal,(ce=(oe=(Fa=(Ra=(Aa=C())==null?void 0:Aa[a(s)])==null?void 0:Ra.data)==null?void 0:Fa[a(s)])==null?void 0:oe[a(s)])==null?void 0:ce.buildcostmetal,(pe=(me=a(m))==null?void 0:me.cost)==null?void 0:pe.metal,(xe=(ge=(ue=a(m))==null?void 0:ue[a(s)])==null?void 0:ge.cost)==null?void 0:xe.metal,(he=(ye=(be=(_e=(fe=C())==null?void 0:fe[a(s)])==null?void 0:_e.data)==null?void 0:be[a(s)])==null?void 0:ye.cost)==null?void 0:he.metal,(Ce=(Pe=(Me=(ke=(je=(we=C())==null?void 0:we[a(s)])==null?void 0:je.data)==null?void 0:ke[a(s)])==null?void 0:Me[a(s)])==null?void 0:Pe.cost)==null?void 0:Ce.metal,(Oe=a(m))==null?void 0:Oe.metalcost,(lt=(ze=a(m))==null?void 0:ze[a(s)])==null?void 0:lt.metalcost,(dt=(it=a(m))==null?void 0:it.customparams)==null?void 0:dt.buildcostmetal]}),Ua=ea(()=>a(aa).find(J=>J!=null)||0);var Ea=t(c),Da=r(t(Ea),2),Wa=t(Da,!0);d(()=>i(Wa,Ne(a(m),a(s)))),e(Da),e(Ea);var Sa=r(Ea,2),He=r(t(Sa),2),Te=t(He,!0);e(He),e(Sa);var ve=r(Sa,2),Ue=r(t(ve),2),ka=t(Ue,!0);d(()=>{var J,da,na,va,oa,ca,ma,Aa,Ra,Fa;return i(ka,(J=a(m)[a(s)])!=null&&J.buildtime||a(m).buildtime||(oa=(va=(na=(da=C())==null?void 0:da[a(s)])==null?void 0:na.data)==null?void 0:va[a(s)])!=null&&oa.buildtime?te(((ca=a(m)[a(s)])==null?void 0:ca.buildtime)||a(m).buildtime||((Fa=(Ra=(Aa=(ma=C())==null?void 0:ma[a(s)])==null?void 0:Aa.data)==null?void 0:Ra[a(s)])==null?void 0:Fa.buildtime),"buildtime"):"0s")}),e(Ue),e(ve),e(c),d(()=>i(Te,a(Ua))),l(o,c)},sa=o=>{var c=es();const m=ea(()=>{var ka,J,da,na,va,oa,ca,ma,Aa,Ra,Fa,oe,ce,me,pe,ue,ge,xe,fe,_e,be,ye,he,we,je,ke,Me,Pe,Ce,Oe,ze;return[(na=(da=(J=(ka=C())==null?void 0:ka[a(s)])==null?void 0:J.data)==null?void 0:da[a(s)])==null?void 0:na.buildcostmetal,(Aa=(ma=(ca=(oa=(va=C())==null?void 0:va[a(s)])==null?void 0:oa.data)==null?void 0:ca[a(s)])==null?void 0:ma[a(s)])==null?void 0:Aa.buildcostmetal,(Fa=(Ra=C())==null?void 0:Ra[a(s)])==null?void 0:Fa.buildcostmetal,(ue=(pe=(me=(ce=(oe=C())==null?void 0:oe[a(s)])==null?void 0:ce.data)==null?void 0:me[a(s)])==null?void 0:pe.cost)==null?void 0:ue.metal,(ye=(be=(_e=(fe=(xe=(ge=C())==null?void 0:ge[a(s)])==null?void 0:xe.data)==null?void 0:fe[a(s)])==null?void 0:_e[a(s)])==null?void 0:be.cost)==null?void 0:ye.metal,(ke=(je=(we=(he=C())==null?void 0:he[a(s)])==null?void 0:we.data)==null?void 0:je[a(s)])==null?void 0:ke.metalcost,(ze=(Oe=(Ce=(Pe=(Me=C())==null?void 0:Me[a(s)])==null?void 0:Pe.data)==null?void 0:Ce[a(s)])==null?void 0:Oe.customparams)==null?void 0:ze.buildcostmetal]}),aa=ea(()=>a(m).find(ka=>ka!=null)||0);var Ua=t(c),Ea=r(t(Ua),2),Da=t(Ea,!0);d(()=>i(Da,Ne({},a(s)))),e(Ea),e(Ua);var Wa=r(Ua,2),Sa=r(t(Wa),2),He=t(Sa,!0);e(Sa),e(Wa);var Te=r(Wa,2),ve=r(t(Te),2),Ue=t(ve,!0);d(()=>{var ka,J,da,na,va,oa,ca,ma;return i(Ue,(na=(da=(J=(ka=C())==null?void 0:ka[a(s)])==null?void 0:J.data)==null?void 0:da[a(s)])!=null&&na.buildtime?te((ma=(ca=(oa=(va=C())==null?void 0:va[a(s)])==null?void 0:oa.data)==null?void 0:ca[a(s)])==null?void 0:ma.buildtime,"buildtime"):"0s")}),e(ve),e(Te),e(c),d(()=>i(He,a(aa))),l(o,c)};u(ta,o=>{var c,m;(m=(c=a(_))==null?void 0:c.data)!=null&&m[a(s)]?o($):o(sa,!1)})}e(z),e(B),d(()=>{var o,c,m,aa;We(B,"href",`${vt??""}/unit?name=${a(s)??""}`),i(g,((m=(c=(o=Re())==null?void 0:o.units)==null?void 0:c.names)==null?void 0:m[a(s)])||a(s)),i(wa,`T${a(H)??""}`),i(Y,((aa=a(_))==null?void 0:aa.faction)==="arm"?"Armada":"Cortex")}),l(F,B)}),e(O),e(ha),d(()=>i(Q,`${(a(M).faction==="arm"?"Armada":"Cortex")??""} Constructor`)),l(ya,ha)},ee=ya=>{var ha=pa(),I=ga(ha);{var K=j=>{var Q=rs();l(j,Q)},za=j=>{var Q=pa(),O=ga(Q);Na(O,1,()=>Object.entries(R()),Ia,(F,s)=>{let B=()=>a(s)[0],_=()=>a(s)[1];var H=vs(),v=t(H);{var f=h=>{var x=ds(),g=t(x),U=t(g);d(()=>i(U,`${Ba(B())??""}:`)),e(g);var X=r(g,2),wa=t(X);{var L=Y=>{var Z=pa(),ja=ga(Z);Na(ja,1,()=>Object.entries(_()),Ia,(N,W)=>{let ta=()=>a(W)[0],$=()=>a(W)[1];var sa=ls(),o=t(sa),c=t(o);d(()=>i(c,`${(ta()==="default"?"Base":Ba(ta()))??""}:`)),e(o);var m=r(o,2),aa=t(m,!0);e(m),e(sa),d(()=>i(aa,$())),l(N,sa)}),l(Y,Z)},q=Y=>{var Z=pa(),ja=ga(Z);Na(ja,1,()=>Object.entries(_()),Ia,(N,W)=>{let ta=()=>a(W)[0],$=()=>a(W)[1];var sa=is(),o=t(sa),c=t(o);d(()=>i(c,`${Ba(ta())??""}:`)),e(o);var m=r(o,2),aa=t(m,!0);d(()=>i(aa,typeof $()=="object"&&$()!==null?JSON.stringify($(),null,2):te($(),ta()))),e(m),e(sa),l(N,sa)}),l(Y,Z)};u(wa,Y=>{B()==="damage"?Y(L):Y(q,!1)})}e(X),e(x),l(h,x)},z=h=>{var x=ns(),g=t(x),U=t(g);d(()=>i(U,`${Ba(B())??""}:`)),e(g);var X=r(g,2),wa=t(X,!0);d(()=>i(wa,te(_(),B()))),e(X),e(x),l(h,x)};u(v,h=>{typeof _()=="object"&&_()!==null?h(f):h(z,!1)})}e(H),l(F,H)}),l(j,Q)};u(I,j=>{y()==="buildoptions"?j(K):j(za,!1)},!0)}l(ya,ha)};u(ba,ya=>{y()==="buildoptions"&&Object.values(R()).length>0?ya(ia):ya(ee,!1)})}e(Ja),e(_a),e(V),d(()=>Ht(V,a(Ta))),Rt(3,V,()=>Lt),l(G,V)},ne=G=>{var V=cs(),Ta=t(V);{var _a=ba=>{var ia=ua();d(()=>i(ia,Ne(a(w),a(k)))),l(ba,ia)},Ja=ba=>{var ia=pa(),ee=ga(ia);{var ya=I=>{var K=ua();const za=ea(()=>{var j,Q,O,F,s,B,_,H,v,f,z,h,x,g,U,X,wa,L,q,Y,Z,ja,N,W,ta,$,sa,o,c,m,aa,Ua,Ea,Da,Wa,Sa;return[(j=a(w))==null?void 0:j.buildcostmetal,(O=(Q=a(w))==null?void 0:Q[a(k)])==null?void 0:O.buildcostmetal,(B=(s=(F=a(M))==null?void 0:F.data)==null?void 0:s[a(k)])==null?void 0:B.buildcostmetal,(f=(v=(H=(_=a(M))==null?void 0:_.data)==null?void 0:H[a(k)])==null?void 0:v[a(k)])==null?void 0:f.buildcostmetal,(h=(z=a(w))==null?void 0:z.cost)==null?void 0:h.metal,(U=(g=(x=a(w))==null?void 0:x[a(k)])==null?void 0:g.cost)==null?void 0:U.metal,(q=(L=(wa=(X=a(M))==null?void 0:X.data)==null?void 0:wa[a(k)])==null?void 0:L.cost)==null?void 0:q.metal,(W=(N=(ja=(Z=(Y=a(M))==null?void 0:Y.data)==null?void 0:Z[a(k)])==null?void 0:ja[a(k)])==null?void 0:N.cost)==null?void 0:W.metal,(ta=a(w))==null?void 0:ta.metalcost,(sa=($=a(w))==null?void 0:$[a(k)])==null?void 0:sa.metalcost,(m=(c=(o=a(M))==null?void 0:o.data)==null?void 0:c[a(k)])==null?void 0:m.metalcost,(Ua=(aa=a(w))==null?void 0:aa.customparams)==null?void 0:Ua.buildcostmetal,(Sa=(Wa=(Da=(Ea=a(M))==null?void 0:Ea.data)==null?void 0:Da[a(k)])==null?void 0:Wa.customparams)==null?void 0:Sa.buildcostmetal]});d(()=>i(K,a(za).find(j=>j!=null)||0)),l(I,K)},ha=I=>{var K=pa(),za=ga(K);{var j=O=>{var F=pa(),s=ga(F);{var B=H=>{var v=ua();d(()=>i(v,`Build Options (${Object.keys(R()).length??""})`)),l(H,v)},_=H=>{var v=pa(),f=ga(v);{var z=x=>{var g=ua();d(()=>i(g,`Weapon Definitions (${Object.keys(R()).length??""})`)),l(x,g)},h=x=>{var g=pa(),U=ga(g);{var X=L=>{var q=ua();d(()=>i(q,`Weapons (${Object.keys(R()).length??""})`)),l(L,q)},wa=L=>{var q=pa(),Y=ga(q);{var Z=N=>{var W=ua();d(()=>i(W,`Custom Parameters (${Object.keys(R()).length??""})`)),l(N,W)},ja=N=>{var W=ua();const ta=ea(()=>Ba(y())??""),$=ea(()=>Object.keys(R()).length??"");d(()=>i(W,`${a(ta)} (${a($)})`)),l(N,W)};u(Y,N=>{y()==="customparams"?N(Z):N(ja,!1)},!0)}l(L,q)};u(U,L=>{y()==="weapons"?L(X):L(wa,!1)},!0)}l(x,g)};u(f,x=>{y()==="weapondefs"?x(z):x(h,!1)},!0)}l(H,v)};u(s,H=>{y()==="buildoptions"?H(B):H(_,!1)})}l(O,F)},Q=O=>{var F=ua();d(()=>i(F,te(R(),y()))),l(O,F)};u(za,O=>{Le(R())?O(j):O(Q,!1)},!0)}l(I,K)};u(ee,I=>{y()==="buildcostmetal"?I(ya):I(ha,!1)},!0)}l(ba,ia)};u(Ta,ba=>{y()==="maxdamage"||y()==="health"?ba(_a):ba(Ja,!1)})}e(V),l(G,V)};u(de,G=>{Le(R())&&a(Ma).has(y())?G(qa):G(ne,!1)})}e(ie),l(le,ie)}),e(Za);var De=r(Za,2);{var kt=le=>{var $a=bs(),y=t($a),R=r(t(y),2);{var ie=Ca=>{var P=ps();const Ha=ea(at);var Oa=t(P),de=t(Oa);e(Oa);var qa=r(Oa,2),ne=t(qa);e(qa),e(P),d(()=>{i(de,`Total DPS: ${a(Ha).totalDps??""}`),i(ne,`Max Range: ${a(Ha).maxRange??""}`)}),l(Ca,P)};u(R,Ca=>{at()&&Ca(ie)})}e(y);var ae=r(y,2);Na(ae,5,()=>a(Ee),Ia,(Ca,P)=>{var Ha=_s(),Oa=t(Ha),de=t(Oa,!0);d(()=>i(de,Ba(a(P).type))),e(Oa);var qa=r(Oa,2);{var ne=v=>{var f=us();l(v,f)};u(qa,v=>{a(P).isEMP&&v(ne)})}var G=r(qa,2);{var V=v=>{var f=gs();l(v,f)};u(G,v=>{a(P).isNotFlame&&v(V)})}var Ta=r(G,2),_a=t(Ta),Ja=r(t(_a),2),ba=t(Ja,!0);e(Ja),e(_a);var ia=r(_a,2),ee=r(t(ia),2),ya=t(ee);{var ha=v=>{var f=ua("N/A (EMP)");l(v,f)},I=v=>{var f=pa(),z=ga(f);{var h=g=>{var U=ua("N/A (Special)");l(g,U)},x=g=>{var U=ua();d(()=>i(U,a(P).dps)),l(g,U)};u(z,g=>{a(P).isNotFlame?g(h):g(x,!1)},!0)}l(v,f)};u(ya,v=>{a(P).isEMP?v(ha):v(I,!1)})}e(ee),e(ia);var K=r(ia,2);{var za=v=>{var f=xs(),z=t(f),h=t(z,!0);d(()=>i(h,Ba("paralyzemultiplier"))),e(z);var x=r(z,2),g=t(x);e(x),e(f),d(()=>i(g,`x${a(P).paralyzeMultiplier??""}`)),l(v,f)};u(K,v=>{a(P).isEMP&&v(za)})}var j=r(K,2);{var Q=v=>{var f=fs(),z=r(t(f),2),h=t(z);e(z),e(f),d(()=>i(h,`x${a(P).burstCount??""}`)),l(v,f)};u(j,v=>{a(P).burstCount>1&&v(Q)})}var O=r(j,2),F=r(t(O),2),s=t(F,!0);e(F),e(O);var B=r(O,2),_=r(t(B),2),H=t(_);e(_),e(B),e(Ta),e(Ha),d(()=>{i(ba,a(P).damage),i(s,a(P).range),i(H,`${a(P).reloadTime??""}s`)}),l(Ca,Ha)}),e(ae),e($a),l(le,$a)};u(De,le=>{fa()==="combat"&&a(Ee).length>0&&le(kt)})}e(Qa),d(()=>i(Je,fa())),l(S,Qa)});var wt=r(rt,2);{var jt=S=>{var T=ws(),fa=r(t(T),2);Na(fa,5,()=>Object.entries(a(w).customparams),Ia,(qe,Qa)=>{let Xa=()=>a(Qa)[0],se=()=>a(Qa)[1];var re=hs(),Ya=t(re),Je=t(Ya,!0);d(()=>i(Je,Ba(Xa()))),e(Ya);var Za=r(Ya,2),De=t(Za,!0);d(()=>i(De,te(se(),Xa()))),e(Za),e(re),l(qe,re)}),e(fa),e(T),l(S,T)};u(wt,S=>{a(w).customparams&&S(jt)})}e(b),d(()=>{i(Pa,a(Ye)),i(Se,a(M).faction==="arm"?"Armada":"Cortex"),i(Ve,a(M).type),i(_t,`Tech ${a(M).tech_level??""}`)}),l(n,b)},xt=n=>{var b=ks();l(n,b)};u(ut,n=>{a(M)&&a(w)?n(gt):n(xt,!1)})}e(tt),e(Ie),l(Ka,Ie),Ct()}export{Fs as component};
