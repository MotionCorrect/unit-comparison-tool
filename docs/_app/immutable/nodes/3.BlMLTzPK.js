import{a as d,t as p,c as zt,n as bt,b as Ct}from"../chunks/disclose-version.BW9ArUzu.js";import"../chunks/legacy.DRLOhxdc.js";import{aq as Ta,B as ia,x as da,w as va,v as ca,p as Ba,l as Lt,a as Ea,t as u,b as Fa,d as k,g as e,m as D,c as r,s as l,r as t,n as Ra,ar as ea,as as je,ac as st,ab as Ze}from"../chunks/runtime.D3nLuaSf.js";import{s as g}from"../chunks/render.BdPDBm2v.js";import{i as S}from"../chunks/if.CHAFcAzL.js";import{e as B,i as z}from"../chunks/each.C8APc639.js";import{N as Va,l as za,u as La,a as Pa,r as Pt,s as Ye,b as ta,c as ne}from"../chunks/Navbar.CWgOvNiz.js";import{l as Dt,e as he}from"../chunks/events.D1dObZNV.js";import{t as Oa,p as aa,g as ra,i as sa,a as Ot,f as Ha}from"../chunks/dpsCalculations.D5nDd02v.js";import{i as qa}from"../chunks/proxy.CPvLjuoq.js";import{i as Da}from"../chunks/lifecycle.bW87PTVL.js";import{s as Ia,a as la}from"../chunks/store.DEWwSPv_.js";import{o as Wa}from"../chunks/index-client.Cx8f-3OG.js";import{b as oa}from"../chunks/paths.Bfeg_zav.js";function na(i,$,E=$){var h=Ta();Dt(i,"input",j=>{var I=j?i.defaultValue:i.value;if(I=Ht(i)?qt(I):I,E(I),h&&I!==(I=$())){var K=i.selectionStart,ie=i.selectionEnd;i.value=I??"",ie!==null&&(i.selectionStart=K,i.selectionEnd=Math.min(ie,i.value.length))}}),(ia&&i.defaultValue!==i.value||da($)==null&&i.value)&&E(Ht(i)?qt(i.value):i.value),va(()=>{var j=$();Ht(i)&&j===qt(i.value)||i.type==="date"&&!j&&!i.value||j!==i.value&&(i.value=j??"")})}function Ya(i,$,E=$){Dt(i,"change",h=>{var j=h?i.defaultChecked:i.checked;E(j)}),(ia&&i.defaultChecked!==i.checked||da($)==null)&&E(i.checked),va(()=>{var h=$();i.checked=!!h})}function Ht(i){var $=i.type;return $==="number"||$==="range"}function qt(i){return i===""?null:+i}function pa(i,$,E){if(i.multiple)return Qa(i,$);for(var h of i.options){var j=_t(h);if(qa(j,$)){h.selected=!0;return}}(!E||$!==void 0)&&(i.selectedIndex=-1)}function Ja(i,$){ca(()=>{var E=new MutationObserver(()=>{var h=i.__value;pa(i,h)});return E.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{E.disconnect()}})}function et(i,$,E=$){var h=!0;Dt(i,"change",j=>{var I=j?"[selected]":":checked",K;if(i.multiple)K=[].map.call(i.querySelectorAll(I),_t);else{var ie=i.querySelector(I)??i.querySelector("option:not([disabled])");K=ie&&_t(ie)}E(K)}),ca(()=>{var j=$();if(pa(i,j,h),h&&j===void 0){var I=i.querySelector(":checked");I!==null&&(j=_t(I),E(j))}i.__value=j,h=!1}),Ja(i)}function Qa(i,$){for(var E of i.options)E.selected=~$.indexOf(_t(E))}function _t(i){return"__value"in i?i.__value:i.value}var Ga=p("<option> </option>"),Ka=p("<option> </option>"),Xa=p("<option> </option>"),Za=p("<optgroup></optgroup>"),er=p('<div class="flex items-center gap-3"><select class="rounded-lg bg-gray-900 px-3 py-2 text-gray-200"><option>Select field...</option><!></select> <select class="rounded-lg bg-gray-900 px-3 py-2 text-gray-200"><option>greater than</option><option>less than</option><option>=</option></select> <input type="number" class="rounded-lg bg-gray-900 px-3 py-2 text-gray-200" placeholder="Value"> <button aria-label="Remove filter" class="text-gray-400 hover:text-red-400"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),tr=p('<div class="space-y-3"></div>'),ar=p('<label class="flex items-center gap-2 rounded-lg bg-gray-900/50 px-3 py-2"><input type="checkbox" class="rounded border-gray-600 bg-gray-800 text-teal-500 focus:ring-teal-500"> <span class="text-sm text-gray-300"> </span></label>'),rr=bt('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 9L4 4m0 0l5 0m-5 0l0 5M9 15l-5 5m0 0l5 0m-5 0l0 -5M15 9l5 -5m0 0l-5 0m5 0l0 5M15 15l5 5m0 0l-5 0m5 0l0 -5"></path>'),sr=bt('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-5h-4m4 0v4m0-4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5h-4m4 0v-4m0 4l-5-5"></path>'),lr=bt('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>'),or=p('<th><div class="flex items-center gap-1"> <!></div></th>'),nr=bt('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>'),ir=bt('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>'),dr=p('<span class="rounded-full bg-pink-500/20 px-2 py-0.5 text-xs text-pink-400"> </span>'),vr=p('<span class="rounded-full bg-red-500/20 px-2 py-0.5 text-xs text-red-400"> </span>'),cr=p('<td class="p-3 text-right text-gray-300"> </td>'),pr=p('<tr class="border-b border-gray-800/50 hover:bg-gray-800/30"><td class="sticky left-0 z-10 bg-gray-900 p-3"><div class="flex min-w-[250px] items-center justify-between"><div class="flex items-center gap-3"><button><span><svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><!></svg></span> <span class="group-hover:opacity-100 opacity-70"> </span></button> <a class="text-teal-400 hover:underline"> </a></div> <div class="flex h-6 items-center gap-2"><span class="rounded-full bg-teal-500/20 px-2 py-0.5 text-xs text-teal-400"> </span> <span class="rounded-full bg-purple-500/20 px-2 py-0.5 text-xs text-purple-400"> </span> <!> <span class="rounded-full bg-blue-500/20 px-2 py-0.5 text-xs text-blue-400"> </span> <!></div></div></td><!></tr>'),ur=p('<div class="rounded-lg bg-gray-800/50 p-6"><div class="mb-6"><div class="relative"><input type="text" placeholder="Search units..." class="w-full rounded-lg bg-gray-900 py-2 pl-10 pr-4 text-gray-200 placeholder-gray-500"> <svg class="absolute left-3 top-2.5 h-5 w-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div></div> <div class="mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-5"><div class="space-y-2"><label for="tech-level" class="text-sm text-gray-400">Tech Level</label> <select id="tech-level" class="w-full rounded-lg bg-gray-900 px-3 py-2 text-gray-200"><option>All Tech Levels</option><option>Tech 1</option><option>Tech 2</option></select></div> <div class="space-y-2"><label for="unit-type" class="text-sm text-gray-400">Unit Type</label> <select id="unit-type" class="w-full rounded-lg bg-gray-900 px-3 py-2 text-gray-200"><option>All Types</option><!></select></div> <div class="space-y-2"><label for="sub-type" class="text-sm text-gray-400">Sub Type</label> <select id="sub-type" class="w-full rounded-lg bg-gray-900 px-3 py-2 text-gray-200"><option>All Sub Types</option><!></select></div> <div class="space-y-2"><label for="faction" class="text-sm text-gray-400">Faction</label> <select id="faction" class="w-full rounded-lg bg-gray-900 px-3 py-2 text-gray-200"><option>All Factions</option><option>Armada</option><option>Cortex</option></select></div></div> <div class="mb-6"><div class="mb-4 flex items-center justify-between"><h3 class="text-sm font-medium text-gray-300">Custom Filters</h3> <button class="flex items-center gap-2 text-sm text-teal-400 hover:text-teal-300"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Add Filter</button></div> <!></div> <div class="mb-6"><div class="mb-4 flex items-center justify-between"><h3 class="text-sm font-medium text-gray-300">Visible Columns</h3> <button class="flex items-center gap-2 text-sm text-teal-400 hover:text-teal-300"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Add Column</button></div> <div class="flex flex-wrap gap-2"></div></div> <div><div class="table-controls flex justify-end mb-2 svelte-10uyojr"><button class="flex items-center gap-2 rounded-lg bg-gray-800/80 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-700 hover:text-white"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><!></svg> </button></div> <div id="browse-table-container"><table class="relative w-full"><thead><tr class="sticky top-0 z-20 border-b border-gray-700 bg-gray-900/95 backdrop-blur-sm"></tr></thead><tbody class="divide-y divide-gray-800/50"></tbody></table></div></div></div>'),mr=p('<button class="text-gray-400 transition-colors hover:text-red-400" aria-label="Remove unit slot"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),gr=p('<option class="flex items-center gap-2"> </option>'),fr=p('<div class="min-w-[250px] max-w-[300px] flex-1 rounded-lg bg-gray-800/50 p-4"><div class="mb-4 flex items-center justify-between"><h3 class="font-medium text-white"></h3> <!></div> <select class="w-full rounded-lg border border-gray-600/50 bg-gray-700/50 px-3 py-2 text-white"><option>Select a unit...</option><!></select></div>'),_r=p('<span class="rounded-full bg-pink-500/20 px-2 py-0.5 text-pink-400"> </span>'),br=p('<span class="rounded-full bg-red-500/20 px-2 py-0.5 text-red-400"> </span>'),xr=p('<div class="space-y-1"><a class="inline-block font-medium text-white transition-colors hover:text-teal-400"> </a> <div class="flex justify-center gap-2 text-sm"><span class="rounded-full bg-teal-500/20 px-2 py-0.5 text-teal-400"> </span> <span class="rounded-full bg-purple-500/20 px-2 py-0.5 text-purple-400"> </span> <!> <span class="rounded-full bg-blue-500/20 px-2 py-0.5 text-blue-400"> </span> <!></div></div>'),yr=p('<span class="text-gray-500">No unit selected</span>'),hr=p("<th><!></th>"),kr=p('<div class="flex justify-center gap-2 text-sm"><span class="rounded-full bg-red-500/20 px-2 py-0.5 text-red-400"> </span> <span class="rounded-full bg-blue-500/20 px-2 py-0.5 text-blue-400"> </span></div>'),wr=p('<span class="ml-1 rounded-full bg-yellow-500/20 px-2 py-0.5 text-xs font-medium text-yellow-400">EMP</span>'),Cr=p('<span class="ml-1 rounded-full bg-orange-500/20 px-2 py-0.5 text-xs font-medium text-orange-400">Special</span>'),Mr=p('<div class="flex justify-between"><span class="text-gray-400">Burst</span> <span class="font-medium text-green-400"> </span></div>'),Sr=p('<div class="rounded-lg border border-gray-700/30 bg-gray-900/50 p-3"><div class="mb-2 font-medium text-gray-300"> <!> <!></div> <div class="grid grid-cols-2 gap-2 text-sm"><div class="flex justify-between"><span class="text-gray-400">Damage</span> <span class="font-medium text-red-400"> </span></div> <div class="flex justify-between"><span class="text-gray-400">DPS</span> <span class="font-medium text-orange-400"><!></span></div> <!> <div class="flex justify-between"><span class="text-gray-400">Range</span> <span class="font-medium text-blue-400"> </span></div> <div class="flex justify-between"><span class="text-gray-400">Reload</span> <span class="font-medium text-purple-400"> </span></div></div></div>'),jr=p('<!> <div class="mt-4 space-y-3"></div>',1),$r=p('<div class="flex items-center justify-center rounded-lg border border-gray-700/30 bg-gray-900/50 p-4"><span class="text-sm text-gray-500">No weapons</span></div>'),Ar=p('<td class="p-4 align-top"><div class="top-0 rounded-lg bg-gray-800/50 p-4"><!></div></td>'),Ur=p('<tr><td class="left-0 bg-gray-900/95 p-4"></td><!></tr>'),Nr=p('<div class="flex items-center gap-2"><span class="text-sm text-gray-400"> </span> <span class="text-sm text-gray-200"> </span></div>'),Tr=p('<div class="ml-4 space-y-1"></div>'),Br=p('<span class="text-sm text-gray-200"> </span>'),Er=p('<div class="flex items-center gap-2 px-2 py-1 hover:bg-gray-800/50"><span class="text-sm text-gray-400"> </span> <!></div>'),Fr=p('<div class="mt-2 space-y-1 text-left"></div>'),Rr=p('<button class="inline-flex items-center gap-2 rounded px-2 py-1 text-sm text-gray-400 hover:bg-gray-800/50"><span> </span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!>',1),Vr=p("<td><!></td>"),zr=p('<tr class="transition-colors hover:bg-gray-800/30"><td class="sticky left-0 z-10 p-4 pl-8 text-gray-400" style="background: linear-gradient(to right, rgb(17 24 39 / 0.95), rgb(17 24 39 / 0.95)) padding-box, rgb(55 65 81 / 0.5) border-box; border-right: 2px solid transparent; backdrop-filter: blur(4px);"> </td><!></tr>'),Lr=p('<tr><td class="sticky left-0 p-4 font-medium text-teal-400"><div class="flex items-center gap-2"><div></div> <div class="relative flex items-center gap-2"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path></svg> <span class="capitalize"> </span></div></div></td></tr> <!> <!>',1),Pr=p('<div class="relative overflow-auto" style="max-height: calc(100vh - 250px);" role="region"><table class="relative w-full border-collapse"><thead><tr class="sticky top-0 z-20"><th class="sticky left-0 z-30 w-1/4 min-w-[200px] rounded-tl-lg bg-gray-800/95 p-4 text-left backdrop-blur-sm">Property</th><!></tr></thead><tbody class="divide-y divide-gray-800/50"></tbody></table></div>'),Or=p('<div class="py-12 text-center text-gray-400">Select units to compare their properties</div>'),Hr=p('<div class="rounded-lg bg-gray-900 shadow-xl"><header class="mb-8 text-center"><h1 class="mb-4 bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-4xl font-bold text-transparent">Unit Comparison</h1> <p class="mx-auto max-w-2xl text-gray-400">Compare multiple units side by side. Add or remove units using the controls below.</p></header> <div class="mb-8"><div class="flex flex-wrap items-start gap-4"><!> <button class="flex items-center gap-2 rounded-lg bg-teal-600/20 px-4 py-2 text-teal-400 transition-colors hover:bg-teal-600/30"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Add Unit</button></div></div> <!></div>'),qr=p("<div> </div>"),Dr=p('<div class="min-h-screen bg-gray-900 text-gray-100"><!> <div class="container mx-auto max-w-7xl px-4 py-8"><div class="mb-12 grid gap-8 md:grid-cols-2"><div><div class="mb-4 flex items-center gap-3"><svg class="h-6 w-6 text-teal-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> <h2 class="text-xl font-semibold text-teal-300">Browse Mode</h2></div> <ul class="ml-4 space-y-2 text-gray-300"><li>• Filter units by type, faction, and tech level</li> <li>• Add custom filters for specific unit properties</li> <li>• Sort columns by clicking column headers</li> <li>• Customize visible columns using the column manager</li> <li>• Click unit names to view detailed information</li></ul></div> <div><div class="mb-4 flex items-center gap-3"><svg class="h-6 w-6 text-teal-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> <h2 class="text-xl font-semibold text-teal-300">Compare Mode</h2></div> <ul class="ml-4 space-y-2 text-gray-300"><li>• Select multiple units to compare side by side</li> <li>• Add or remove unit slots as needed</li> <li>• Properties are grouped by category</li> <li>• Different values are highlighted for easy comparison</li> <li>• Expand object properties to see detailed information</li></ul></div></div> <div class="mb-8 flex justify-center gap-4"><button>Browse Units</button> <button>Compare Units</button></div> <!></div> <div class="fixed bottom-4 right-4 z-50 flex flex-col gap-2"></div></div>');function ls(i,$){Ba($,!1);const E=Ia(),h=()=>la(La,"$unitsData",E),j=()=>la(Pa,"$unitNamesDetails",E),I=D(),K=D();let ie=D("browse"),ke=D([{id:"unit",name:"Unit",visible:!0},{id:"type",name:"Type",visible:!0},{id:"subtype",name:"Subtype",visible:!1},{id:"faction",name:"Faction",visible:!1},{id:"tech",name:"Tech Level",visible:!1},{id:"health",name:"Health",visible:!0},{id:"sightDistance",name:"Sight Range",visible:!0},{id:"maxRange",name:"Weapon Range",visible:!0},{id:"dps",name:"DPS",visible:!0},{id:"armor",name:"Armor",visible:!0}]),xt=D(""),lt=D("all"),Je=D("all"),ot=D("all"),nt=D("all"),ue=D([]),it=D("name"),dt=D("asc"),x=D(["",""]),Mt=D([]),Le=D(new Set);const It=["name","faction","type","subtype","path","description","unitname","side","icontype","script","buildpic","category","customparams"],St=["health","maxdamage","damagemodifier","armorType","seismicdistance","seismicsignature","hidedamage","autoheal","idleautoheal","idletime","mass","footprintx","footprintz"],jt=["maxvelocity","acceleration","brakerate","turnradius","turnrate","turninplace","turninplaceanglelimit","turninplacespeedlimit","movementclass","moverate1","cruisealt","cruisealtitude","amphibious","floater","upright","canhover","canfly","canmove","canland","airstrafe","airhoverfactor","hoverattack","leavetracks","trackoffset","trackstretch","trackstrength","tracktype","trackwidth","maxacc","maxdec","speed","transportcapacity"],$t=["canattack","canattackground","canmanualfire","canpatrol","canrepeat","canresurrect","cancloak","cancapture","weapondefs","weapons","radardistance","radardistancejam","sonardistance","sonarstealth","stealth","cloaked","cloakcost","cloakcostmoving","initcloak","firestate","standingmoveorder","strafetoattack","hightrajectory","kamikaze","kamikazedistance","sightdistance","airsightdistance","onlytargetcategory2","exemptcategory","radarEmitHeight","noautofire","nochase","nochasecategory","turret"],At=["buildcostenergy","buildcostmetal","buildtime","energycost","energymake","energypershot","energystorage","energyupkeep","extractsmetal","metalcost","metalmake","metalstorage","terraformspeed","workertime","capture","reclaimable","reclaimspeed","repairable","buildoptions"],Ut=[{category:"Stats",fields:[...St.map(a=>({id:a,name:a.charAt(0).toUpperCase()+a.slice(1),type:"number"}))]},{category:"Combat",fields:[...$t.map(a=>({id:a,name:a.charAt(0).toUpperCase()+a.slice(1),type:"number"}))]},{category:"Movement",fields:[...jt.map(a=>({id:a,name:a.charAt(0).toUpperCase()+a.slice(1),type:"number"}))]},{category:"Resources",fields:[...At.map(a=>({id:a,name:a.charAt(0).toUpperCase()+a.slice(1),type:"number"}))]}];function ua(){k(x,[...e(x),""])}function ma(a){k(x,e(x).filter((s,o)=>o!==a))}function yt(a,s){return a==null?"—":typeof a=="boolean"?a?"Yes":"No":typeof a=="number"?s==="buildtime"?Wt(a/100):s.toLowerCase().includes("time")?Wt(a):a.toLocaleString():a}function Wt(a){if(a<60)return`${a}s`;const s=Math.floor(a/60),o=a%60;return o>0?`${s}m ${o}s`:`${s}m`}function ga(a){const s=new Set;a.forEach(c=>{var F;if(!c)return;const w=h()[c];(F=w==null?void 0:w.data)!=null&&F[c]&&Object.keys(w.data[c]).forEach(H=>s.add(H))});const o=Array.from(s),v=c=>e(K).reduce((w,F)=>{var H;return w+(((H=F==null?void 0:F.data)==null?void 0:H[c])!==void 0?1:0)},0),b=c=>[...c].sort((w,F)=>v(F)-v(w));return{general:b(o.filter(c=>It.includes(c))),stats:b(o.filter(c=>St.includes(c))),movement:b(o.filter(c=>jt.includes(c))),combat:b(o.filter(c=>$t.includes(c))),resources:b(o.filter(c=>At.includes(c))),custom:o.filter(c=>!It.includes(c)&&!St.includes(c)&&!jt.includes(c)&&!$t.includes(c)&&!At.includes(c))}}function fa(a){e(Le).has(a)?e(Le).delete(a):e(Le).add(a),k(Le,e(Le))}Wa(async()=>{await za(),h()&&j()&&k(Mt,Object.entries(h()).map(([a,s])=>({id:a,name:j().units.names[a]||a,faction:s.faction,type:s.type,subtype:s.subtype,tech:s.tech_level})).filter(a=>a.type&&a.type!=="other").sort((a,s)=>a.name.localeCompare(s.name)))});let Qe=D(!1);function _a(){k(Qe,!e(Qe))}function Yt(a,s=0){return s>3||typeof a!="object"||a===null?yt(a):Object.entries(a).map(([o,v])=>({key:o,value:typeof v=="object"&&v!==null?Yt(v,s+1):yt(v,o)}))}function Jt(a){const s={general:"bg-blue-900/20 border-l-4 border-blue-500/50",stats:"bg-green-900/20 border-l-4 border-green-500/50",movement:"bg-yellow-900/20 border-l-4 border-yellow-500/50",combat:"bg-red-900/20 border-l-4 border-red-500/50",resources:"bg-purple-900/20 border-l-4 border-purple-500/50",custom:"bg-gray-800/30 border-l-4 border-gray-500/50"};return s[a]||s.custom}function ba(a){const s={general:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stats:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",movement:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z",combat:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064",resources:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",custom:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"};return s[a]||s.custom}function xa(){if(!h())return[];let a=Object.entries(h()).filter(([s,o])=>o.type&&o.type!=="other").map(([s,o])=>{var w;const v=((w=o.data)==null?void 0:w[s])||{},b=aa(v==null?void 0:v.weapondefs),c=ra(b,v,s);return{id:s,name:j().units.names[s]||s,type:o.type,subtype:o.subtype,tech:o.tech_level,faction:o.faction,health:(v==null?void 0:v.maxdamage)||0,sightDistance:(v==null?void 0:v.sightdistance)||0,maxRange:(c==null?void 0:c.maxRange)||0,dps:(c==null?void 0:c.totalDps)||0,isSuicideUnit:sa(v),isMineUnit:Ot(v),armor:(v==null?void 0:v.armor)||0,...Object.fromEntries(Object.entries(v).map(([F,H])=>[F,typeof H=="object"?JSON.stringify(H):H]))}}).filter(s=>{if(e(lt)!=="all"&&s.tech!==parseInt(e(lt))||e(Je)!=="all"&&s.type!==e(Je)||e(ot)!=="all"&&s.subtype!==e(ot)||e(nt)!=="all"&&s.faction!==e(nt))return!1;if(e(xt)){const o=e(xt).toLowerCase();return s.name.toLowerCase().includes(o)||s.type.toLowerCase().includes(o)||s.subtype.toLowerCase().includes(o)}return!0});return e(ue).forEach(s=>{s.field&&s.operator&&s.value!==""&&(a=a.filter(o=>{const v=o[s.field],b=Number(s.value);switch(s.operator){case">":return v>b;case"<":return v<b;case"=":return v===b;default:return!0}}))}),a.sort((s,o)=>{const v=s[e(it)],b=o[e(it)],c=e(dt)==="asc"?1:-1;return v==null?1:b==null?-1:typeof v=="string"&&typeof b=="string"?!isNaN(Number(v))&&!isNaN(Number(b))?(Number(v)-Number(b))*c:v.toLowerCase().localeCompare(b.toLowerCase())*c:(v-b)*c})}function ya(){return h()?[...new Set(Object.values(h()).map(a=>a.type))].filter(Boolean).sort():[]}function ha(){if(!h())return[];const s=Object.values(h()).filter(o=>e(Je)==="all"||o.type===e(Je)).map(o=>o.subtype);return[...new Set(s)].filter(Boolean).sort()}function ka(){k(ue,[...e(ue),{field:"",operator:">",value:""}])}function wa(a){k(ue,e(ue).filter((s,o)=>o!==a))}function Ca(a){const s=a.id==="unit"?"name":a.id;console.log("Sorting by:",a,s),e(it)===s?k(dt,e(dt)==="asc"?"desc":"asc"):(k(it,s),k(dt,"asc"))}function Ma(){const a=document.createElement("dialog");a.className="bg-gray-900 rounded-lg p-4 backdrop:bg-black/50";const s=document.createElement("div");s.className="max-h-[60vh] overflow-auto",Ut.forEach(v=>{const b=v.fields.filter(c=>!e(ke).some(w=>w.id===c.id));if(b.length){const c=document.createElement("div");c.className="mb-4",c.innerHTML=`
					<h3 class="text-white font-medium mb-2">${v.category}</h3>
					<div class="space-y-2">
						${b.map(w=>`
							<label class="flex items-center gap-2 p-2 hover:bg-gray-800 rounded cursor-pointer">
								<input type="checkbox" value="${w.id}" data-name="${w.name}" class="rounded border-gray-600">
								<span class="text-gray-200">${w.name}</span>
							</label>
						`).join("")}
					</div>
				`,s.appendChild(c)}});const o=document.createElement("div");o.className="mt-4 flex justify-end gap-2",o.innerHTML=`
			<button class="px-4 py-2 text-gray-400 hover:text-gray-300" id="cancel">Cancel</button>
			<button class="px-4 py-2 bg-teal-600 text-white rounded-lg" id="add">Add Columns</button>
		`,a.appendChild(s),a.appendChild(o),document.body.appendChild(a),a.querySelector("#cancel").onclick=()=>a.close(),a.querySelector("#add").onclick=()=>{const v=Array.from(a.querySelectorAll("input:checked")).map(b=>({id:b.value,name:b.dataset.name,visible:!0}));k(ke,[...e(ke),...v]),a.close()},a.showModal()}function Sa(a){const s=a.originalTarget;if(s){const o=s.getBoundingClientRect(),v=window.scrollY+o.top-100;window.scrollTo({top:v,behavior:"smooth"})}}let vt=D([]);function Qt(a,s="success"){k(vt,[...e(vt),{message:a,type:s,id:Date.now()}]),setTimeout(()=>{k(vt,e(vt).slice(1))},3e3)}Lt(()=>e(x),()=>{k(I,ga(e(x)))}),Lt(()=>(e(x),h(),j(),Ot),()=>{k(K,e(x).map(a=>{var b,c,w,F,H,X,Z,te,ae,de,Te,we,me,C;if(!a)return null;const s=((w=(c=(b=h())==null?void 0:b[a])==null?void 0:c.data)==null?void 0:w[a])||{},o=aa(s==null?void 0:s.weapondefs),v=ra(o,s,a);return{id:a,name:((X=(H=(F=j())==null?void 0:F.units)==null?void 0:H.names)==null?void 0:X[a])||a,data:s,faction:(te=(Z=h())==null?void 0:Z[a])==null?void 0:te.faction,type:(de=(ae=h())==null?void 0:ae[a])==null?void 0:de.type,subtype:(we=(Te=h())==null?void 0:Te[a])==null?void 0:we.subtype,weapons:o,combatStats:v,tech:(C=(me=h())==null?void 0:me[a])==null?void 0:C.tech_level,isSuicideUnit:sa(s),isMineUnit:Ot(s)}}))}),Lt(()=>(e(ue),e(ke)),()=>{e(ue).forEach(a=>{if(a.field&&!e(ke).some(s=>s.id===a.field)){const s=Ut.flatMap(o=>o.fields).find(o=>o.id===a.field);s&&k(ke,[...e(ke),{id:s.id,name:s.name,visible:!0}])}})}),Ea(),Da();var Nt=Dr(),Gt=r(Nt);Va(Gt);var Tt=l(Gt,2),Bt=r(Tt),Kt=r(Bt),ja=l(Kt,2);t(Bt);var Et=l(Bt,2),Ft=r(Et),Xt=l(Ft,2);t(Et);var $a=l(Et,2);{var Aa=a=>{var s=ur(),o=r(s),v=r(o),b=r(v);Pt(b),Ra(2),t(v),t(o);var c=l(o,2),w=r(c),F=l(r(w),2);u(()=>{e(lt),je(()=>{})});var H=r(F);H.value=(H.__value="all")==null?"":"all";var X=l(H);X.value=(X.__value="1")==null?"":"1";var Z=l(X);Z.value=(Z.__value="2")==null?"":"2",t(F),t(w);var te=l(w,2),ae=l(r(te),2);u(()=>{e(Je),je(()=>{})});var de=r(ae);de.value=(de.__value="all")==null?"":"all";var Te=l(de);B(Te,1,ya,z,(f,n)=>{var m=Ga(),y={},R=r(m,!0);t(m),u(()=>{y!==(y=e(n))&&(m.value=(m.__value=e(n))==null?"":e(n)),g(R,e(n))}),d(f,m)}),t(ae),t(te);var we=l(te,2),me=l(r(we),2);u(()=>{e(ot),je(()=>{})});var C=r(me);C.value=(C.__value="all")==null?"":"all";var ve=l(C);B(ve,1,ha,z,(f,n)=>{var m=Ka(),y={},R=r(m,!0);t(m),u(()=>{y!==(y=e(n))&&(m.value=(m.__value=e(n))==null?"":e(n)),g(R,e(n))}),d(f,m)}),t(me),t(we);var ge=l(we,2),W=l(r(ge),2);u(()=>{e(nt),je(()=>{})});var T=r(W);T.value=(T.__value="all")==null?"":"all";var ce=l(T);ce.value=(ce.__value="arm")==null?"":"arm";var Y=l(ce);Y.value=(Y.__value="cor")==null?"":"cor",t(W),t(ge),t(c);var re=l(c,2),pe=r(re),ct=l(r(pe),2);t(pe);var Pe=l(pe,2);{var Oe=f=>{var n=tr();B(n,5,()=>e(ue),z,(m,y,R)=>{var Q=er(),V=r(Q);u(()=>{e(y),je(()=>{})});var M=r(V);M.value=((M.__value="")==null,"");var A=l(M);B(A,1,()=>Ut,z,(q,G)=>{var ee=Za();B(ee,5,()=>e(G).fields,z,(Ke,be)=>{var xe=Xa(),Me={},Se=r(xe,!0);t(xe),u(()=>{Me!==(Me=e(be).id)&&(xe.value=(xe.__value=e(be).id)==null?"":e(be).id),g(Se,e(be).name)}),d(Ke,xe)}),t(ee),u(()=>Ye(ee,"label",e(G).category)),d(q,ee)}),t(V);var P=l(V,2);u(()=>{e(y),je(()=>{})});var fe=r(P);fe.value=(fe.__value=">")==null?"":">";var Ue=l(fe);Ue.value=(Ue.__value="<")==null?"":"<";var _e=l(Ue);_e.value=(_e.__value="=")==null?"":"=",t(P);var U=l(P,2);Pt(U);var le=l(U,2);t(Q),et(V,()=>e(y).field,q=>(e(y).field=q,je(()=>e(ue)))),et(P,()=>e(y).operator,q=>(e(y).operator=q,je(()=>e(ue)))),na(U,()=>e(y).value,q=>(e(y).value=q,je(()=>e(ue)))),he("click",le,()=>wa(R)),d(m,Q)}),t(n),d(f,n)};S(Pe,f=>{e(ue).length>0&&f(Oe)})}t(re);var He=l(re,2),Be=r(He),tt=l(r(Be),2);t(Be);var Ee=l(Be,2);B(Ee,5,()=>e(ke),z,(f,n,m)=>{var y=ar(),R=r(y);Pt(R);var Q=l(R,2),V=r(Q,!0);t(Q),t(y),u(()=>g(V,e(n).name)),Ya(R,()=>e(n).visible,M=>(e(n).visible=M,je(()=>e(ke)))),d(f,y)}),t(Ee),t(He);var Ge=l(He,2),$e=r(Ge),qe=r($e),De=r(qe),pt=r(De);{var Ce=f=>{var n=rr();d(f,n)},L=f=>{var n=sr();d(f,n)};S(pt,f=>{e(Qe)?f(Ce):f(L,!1)})}t(De);var J=l(De);t(qe),t($e);var Fe=l($e,2),Ie=r(Fe),Ae=r(Ie),se=r(Ae);B(se,5,()=>e(ke).filter(f=>f.visible),z,(f,n)=>{var m=or(),y=r(m),R=r(y),Q=l(R);{var V=M=>{var A=lr();u(()=>ta(A,`h-4 w-4 transition-transform ${(e(dt)==="desc"?"rotate-180":"")??""}`)),d(M,A)};S(Q,M=>{e(it)===(e(n).id==="unit"?"name":e(n).id)&&M(V)})}t(y),t(m),u(()=>{ne(m,`cursor-pointer whitespace-nowrap p-3 text-left text-gray-400 hover:text-white ${(e(n).id==="unit"?"sticky left-0 z-30 min-w-[250px] bg-gray-900/95 backdrop-blur-sm":"")??""}`),g(R,`${e(n).name??""} `)}),he("click",m,()=>Ca(e(n))),d(f,m)}),t(se),t(Ae);var Re=l(Ae);B(Re,5,xa,z,(f,n)=>{var m=pr(),y=r(m),R=r(y),Q=r(R),V=r(Q);const M=Ze(()=>`rounded-lg ${(e(x).includes(e(n).id)?"bg-red-600/20 hover:bg-red-600/30":"bg-teal-600/20 hover:bg-teal-600/30")??""} px-2 py-1 text-xs flex items-center gap-1.5 group`);u(()=>Ye(V,"aria-label",e(x).includes(e(n).id)?"Remove from comparison":"Add to comparison"));var A=r(V);const P=Ze(()=>e(x).includes(e(n).id)?"text-red-400":"text-teal-400");var fe=r(A),Ue=r(fe);{var _e=_=>{var N=nr();d(_,N)},U=_=>{var N=ir();d(_,N)};S(Ue,_=>{e(x).includes(e(n).id)?_(_e):_(U,!1)})}t(fe),t(A);var le=l(A,2),q=r(le,!0);u(()=>g(q,e(x).includes(e(n).id)?"Remove":"Compare")),t(le),t(V);var G=l(V,2),ee=r(G,!0);t(G),t(Q);var Ke=l(Q,2),be=r(Ke),xe=r(be,!0);t(be);var Me=l(be,2),Se=r(Me,!0);t(Me);var Ve=l(Me,2);{var Xe=_=>{var N=dr(),oe=r(N,!0);t(N),u(()=>g(oe,e(n).subtype)),d(_,N)};S(Ve,_=>{e(n).subtype&&e(n).subtype!=="none"&&_(Xe)})}var ze=l(Ve,2),at=r(ze);t(ze);var ut=l(ze,2);{var mt=_=>{var N=vr(),oe=r(N,!0);t(N),u(()=>g(oe,e(n).isMineUnit?"Mine":"Suicide")),d(_,N)};S(ut,_=>{e(n).isSuicideUnit&&_(mt)})}t(Ke),t(R),t(y);var Ne=l(y);B(Ne,1,()=>e(ke).filter(_=>_.visible&&_.id!=="unit"),z,(_,N)=>{var oe=cr(),We=r(oe,!0);u(()=>g(We,yt(e(n)[e(N).id],e(N).id))),t(oe),d(_,oe)}),t(m),u(()=>{ne(V,e(M)),ne(A,e(P)),Ye(G,"href",`${oa??""}/unit?name=${e(n).id??""}`),g(ee,e(n).name),g(xe,e(n).faction==="arm"?"ARM":"COR"),g(Se,e(n).type),g(at,`T${e(n).tech??""}`)}),he("click",V,()=>{if(e(x).includes(e(n).id)){for(k(x,e(x).filter(_=>_&&_!==e(n).id).concat(e(x).length<2?[""]:[]));e(x).length<2;)k(x,[...e(x),""]);Qt(`Removed ${e(n).name} from comparison`)}else{const _=e(x).findIndex(N=>!N);_>=0?(ea(x,e(x)[_]=e(n).id),k(x,e(x))):k(x,[...e(x),e(n).id]),Qt(`Added ${e(n).name} to comparison`)}}),d(f,m)}),t(Re),t(Ie),t(Fe),t(Ge),t(s),u(()=>{ne(Ge,`relative ${(e(Qe)?"fullscreen-container":"")??""} svelte-10uyojr`),Ye(qe,"aria-label",e(Qe)?"Exit fullscreen":"Enter fullscreen"),g(J,` ${(e(Qe)?"Exit Fullscreen":"Fullscreen")??""}`),ne(Fe,`overflow-x-auto ${(e(Qe)?"fullscreen-table":"max-h-[70vh]")??""} svelte-10uyojr`)}),na(b,()=>e(xt),f=>k(xt,f)),et(F,()=>e(lt),f=>k(lt,f)),et(ae,()=>e(Je),f=>k(Je,f)),et(me,()=>e(ot),f=>k(ot,f)),et(W,()=>e(nt),f=>k(nt,f)),he("click",ct,ka),he("click",tt,Ma),he("click",qe,_a),d(a,s)},Ua=a=>{var s=Hr(),o=l(r(s),2),v=r(o),b=r(v);B(b,1,()=>e(x),z,(X,Z,te)=>{var ae=fr(),de=r(ae),Te=r(de);Te.textContent=`Unit ${te+1}`;var we=l(Te,2);{var me=W=>{var T=mr();he("click",T,()=>ma(te)),d(W,T)};S(we,W=>{e(x).length>2&&W(me)})}t(de);var C=l(de,2);u(()=>{e(x),je(()=>{e(Mt)})});var ve=r(C);ve.value=((ve.__value="")==null,"");var ge=l(ve);B(ge,1,()=>e(Mt),z,(W,T)=>{var ce=gr(),Y={},re=r(ce);t(ce),u(()=>{Y!==(Y=e(T).id)&&(ce.value=(ce.__value=e(T).id)==null?"":e(T).id),g(re,`${e(T).name??""}
											[${(e(T).faction==="arm"?"ARM":"COR")??""}] [${e(T).type??""}
											${(e(T).subtype!=="none"?`/${e(T).subtype}`:"")??""}] [T${e(T).tech??""}]`)}),d(W,ce)}),t(C),t(ae),et(C,()=>e(x)[te],W=>ea(x,e(x)[te]=W)),d(X,ae)});var c=l(b,2);t(v),t(o);var w=l(o,2);{var F=X=>{var Z=Pr(),te=r(Z),ae=r(te),de=r(ae),Te=l(r(de));B(Te,1,()=>e(K),z,(me,C,ve)=>{var ge=hr(),W=r(ge);{var T=Y=>{var re=xr(),pe=r(re),ct=r(pe,!0);t(pe);var Pe=l(pe,2),Oe=r(Pe),He=r(Oe,!0);t(Oe);var Be=l(Oe,2),tt=r(Be,!0);t(Be);var Ee=l(Be,2);{var Ge=Ce=>{var L=_r(),J=r(L,!0);t(L),u(()=>g(J,e(C).subtype)),d(Ce,L)};S(Ee,Ce=>{e(C).subtype&&e(C).subtype!=="none"&&Ce(Ge)})}var $e=l(Ee,2),qe=r($e);t($e);var De=l($e,2);{var pt=Ce=>{var L=br(),J=r(L,!0);t(L),u(()=>g(J,e(C).isMineUnit?"Mine":"Suicide")),d(Ce,L)};S(De,Ce=>{var L;(L=e(C))!=null&&L.isSuicideUnit&&Ce(pt)})}t(Pe),t(re),u(()=>{Ye(pe,"href",`${oa??""}/unit?name=${e(C).id??""}`),g(ct,e(C).name),g(He,e(C).faction==="arm"?"Armada":"Cortex"),g(tt,e(C).type),g(qe,`Tech ${e(C).tech??""}`)}),d(Y,re)},ce=Y=>{var re=yr();d(Y,re)};S(W,Y=>{e(C)?Y(T):Y(ce,!1)})}t(ge),u(()=>ne(ge,`w-1/4 min-w-[300px] bg-gray-800/95 p-4 backdrop-blur-sm ${(ve===e(K).length-1?"rounded-tr-lg":"")??""}`)),d(me,ge)}),t(de),t(ae);var we=l(ae);B(we,5,()=>Object.entries(e(I)),z,(me,C)=>{let ve=()=>e(C)[0],ge=()=>e(C)[1];var W=zt(),T=st(W);{var ce=Y=>{var re=Lr(),pe=st(re);const ct=Ze(()=>`${Jt(ve())??""} svelte-10uyojr`);var Pe=r(pe),Oe=r(Pe),He=r(Oe);const Be=Ze(()=>`absolute inset-0 ${Jt(ve())??""} svelte-10uyojr`);var tt=l(He,2),Ee=r(tt),Ge=r(Ee);u(()=>Ye(Ge,"d",ba(ve()))),t(Ee);var $e=l(Ee,2),qe=r($e,!0);t($e),t(tt),t(Oe),t(Pe),t(pe);var De=l(pe,2);{var pt=L=>{var J=zt(),Fe=st(J);{var Ie=Ae=>{var se=Ur(),Re=l(r(se));B(Re,1,()=>e(K),z,(f,n)=>{var m=Ar(),y=r(m),R=r(y);{var Q=M=>{var A=jr(),P=st(A);{var fe=_e=>{var U=kr(),le=r(U),q=r(le);t(le);var G=l(le,2),ee=r(G);t(G),t(U),u(()=>{g(q,`DPS: ${e(n).combatStats.totalDps??""}`),g(ee,`Range: ${e(n).combatStats.maxRange??""}`)}),d(_e,U)};S(P,_e=>{e(n).combatStats&&_e(fe)})}var Ue=l(P,2);B(Ue,5,()=>e(n).weapons,z,(_e,U)=>{var le=Sr(),q=r(le),G=r(q),ee=l(G);{var Ke=O=>{var ye=wr();d(O,ye)};S(ee,O=>{e(U).isEMP&&O(Ke)})}var be=l(ee,2);{var xe=O=>{var ye=Cr();d(O,ye)};S(be,O=>{e(U).isNotFlame&&O(xe)})}t(q);var Me=l(q,2),Se=r(Me),Ve=l(r(Se),2),Xe=r(Ve,!0);t(Ve),t(Se);var ze=l(Se,2),at=l(r(ze),2),ut=r(at);{var mt=O=>{var ye=Ct("N/A (EMP)");d(O,ye)},Ne=O=>{var ye=zt(),kt=st(ye);{var Vt=rt=>{var wt=Ct("N/A (Special)");d(rt,wt)},Na=rt=>{var wt=Ct();u(()=>g(wt,e(U).dps)),d(rt,wt)};S(kt,rt=>{e(U).isNotFlame?rt(Vt):rt(Na,!1)},!0)}d(O,ye)};S(ut,O=>{e(U).isEMP?O(mt):O(Ne,!1)})}t(at),t(ze);var _=l(ze,2);{var N=O=>{var ye=Mr(),kt=l(r(ye),2),Vt=r(kt);t(kt),t(ye),u(()=>g(Vt,`x${e(U).burstCount??""}`)),d(O,ye)};S(_,O=>{e(U).burstCount>1&&O(N)})}var oe=l(_,2),We=l(r(oe),2),gt=r(We,!0);t(We),t(oe);var ht=l(oe,2),ft=l(r(ht),2),Rt=r(ft);t(ft),t(ht),t(Me),t(le),u(()=>{g(G,`${e(U).type??""} `),g(Xe,e(U).damage),g(gt,e(U).range),g(Rt,`${e(U).reloadTime??""}s`)}),d(_e,le)}),t(Ue),d(M,A)},V=M=>{var A=$r();d(M,A)};S(R,M=>{var A,P;((P=(A=e(n))==null?void 0:A.weapons)==null?void 0:P.length)>0?M(Q):M(V,!1)})}t(y),t(m),d(f,m)}),t(se),d(Ae,se)};S(Fe,Ae=>{e(K).some(se=>{var Re;return((Re=se==null?void 0:se.weapons)==null?void 0:Re.length)>0})&&Ae(Ie)})}d(L,J)};S(De,L=>{ve()==="combat"&&L(pt)})}var Ce=l(De,2);B(Ce,1,ge,z,(L,J)=>{var Fe=zr();const Ie=Ze(()=>e(K).map(n=>{var m;return(m=n==null?void 0:n.data)==null?void 0:m[e(J)]})),Ae=Ze(()=>e(Ie).every(n=>n===e(Ie)[0]));var se=r(Fe),Re=r(se,!0);t(se);var f=l(se);B(f,1,()=>e(Ie),z,(n,m)=>{var y=Vr(),R=r(y);{var Q=M=>{var A=Rr(),P=st(A);u(()=>Ye(P,"aria-label",e(Le).has(e(J))?"Collapse details":"Expand details"));var fe=r(P),Ue=r(fe);u(()=>g(Ue,`${Object.keys(e(m)).length??""} items`)),t(fe);var _e=l(fe,2);const U=Ze(()=>`h-4 w-4 transition-transform ${(e(Le).has(e(J))?"rotate-180":"")??""}`);t(P);var le=l(P,2);{var q=G=>{var ee=Fr();B(ee,5,()=>Yt(e(m)),z,(be,xe)=>{let Me=()=>e(xe).key,Se=()=>e(xe).value;var Ve=Er(),Xe=r(Ve),ze=r(Xe);t(Xe);var at=l(Xe,2);{var ut=Ne=>{var _=Tr();B(_,5,Se,z,(N,oe)=>{var We=Nr(),gt=r(We),ht=r(gt);t(gt);var ft=l(gt,2),Rt=r(ft,!0);t(ft),t(We),u(()=>{g(ht,`${e(oe).key??""}:`),g(Rt,e(oe).value)}),d(N,We)}),t(_),d(Ne,_)},mt=Ne=>{var _=Br(),N=r(_,!0);t(_),u(()=>g(N,Se())),d(Ne,_)};S(at,Ne=>{Array.isArray(Se())?Ne(ut):Ne(mt,!1)})}t(Ve),u(()=>g(ze,`${Me()??""}:`)),d(be,Ve)}),t(ee),d(G,ee)};S(le,G=>{e(Le).has(e(J))&&G(q)})}u(()=>ta(_e,e(U))),he("click",P,()=>fa(e(J))),d(M,A)},V=M=>{var A=Ct();u(()=>g(A,yt(e(m),e(J)))),d(M,A)};S(R,M=>{typeof e(m)=="object"&&e(m)!==null?M(Q):M(V,!1)})}t(y),u(()=>ne(y,`p-4 text-center ${(!e(Ae)&&e(m)!==void 0?"font-medium":"")??""} ${(e(Ae)?"text-gray-300":"text-white")??""}`)),d(n,y)}),t(Fe),u(()=>g(Re,e(J))),d(L,Fe)}),u(()=>{ne(pe,e(ct)),Ye(Pe,"colspan",e(K).length+1),ne(He,e(Be)),g(qe,ve())}),d(Y,re)};S(T,Y=>{ge().length>0&&Y(ce)})}d(me,W)}),t(we),t(te),t(Z),he("mouseenter",Z,Sa),d(X,Z)},H=X=>{var Z=Or();d(X,Z)};S(w,X=>{e(K).some(Z=>Z)?X(F):X(H,!1)})}t(s),he("click",c,ua),d(a,s)};S($a,a=>{e(ie)==="browse"?a(Aa):a(Ua,!1)})}t(Tt);var Zt=l(Tt,2);B(Zt,5,()=>e(vt),a=>a.id,(a,s)=>{var o=qr(),v=r(o,!0);t(o),u(()=>{ne(o,`rounded-lg bg-gray-900 px-4 py-3 text-sm shadow-lg ring-1 ${(e(s).type==="success"?"text-teal-400 ring-teal-500/50":"text-red-400 ring-red-500/50")??""}`),g(v,e(s).message)}),Oa(3,o,()=>Ha,()=>({y:20,duration:300})),d(a,o)}),t(Zt),t(Nt),u(()=>{ne(Kt,`rounded-xl bg-gray-800/50 p-6 ${(e(ie)==="browse"?"ring-2 ring-teal-500/50":"")??""}`),ne(ja,`rounded-xl bg-gray-800/50 p-6 ${(e(ie)==="compare"?"ring-2 ring-teal-500/50":"")??""}`),ne(Ft,`rounded-lg px-6 py-3 font-medium transition-all ${(e(ie)==="browse"?"bg-teal-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700")??""}`),ne(Xt,`rounded-lg px-6 py-3 font-medium transition-all ${(e(ie)==="compare"?"bg-teal-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700")??""}`)}),he("click",Ft,()=>k(ie,"browse")),he("click",Xt,()=>k(ie,"compare")),d(i,Nt),Fa()}export{ls as component};
