import{a as i,t as o,c as ia,b as Za}from"../chunks/disclose-version.BW9ArUzu.js";import"../chunks/legacy.DRLOhxdc.js";import{p as Vt,b as Ct,d as na,g as e,m as oa,c as t,s as r,r as a,t as v,ab as $a,ac as la}from"../chunks/runtime.D3nLuaSf.js";import{s as n}from"../chunks/render.BdPDBm2v.js";import{i as m}from"../chunks/if.CHAFcAzL.js";import{e as U,i as W}from"../chunks/each.C8APc639.js";import{N as Et,l as zt,u as Ot,a as Bt,s as Ga,b as At,c as Tt}from"../chunks/Navbar.CWgOvNiz.js";import{e as Ht}from"../chunks/events.D1dObZNV.js";import{p as Rt,i as Ut,a as Wt,t as Ft,g as Lt,s as Kt}from"../chunks/dpsCalculations.D5nDd02v.js";import{i as qt}from"../chunks/lifecycle.bW87PTVL.js";import{s as It,a as Qa}from"../chunks/store.DEWwSPv_.js";import{o as Jt}from"../chunks/index-client.Cx8f-3OG.js";import{s as Yt}from"../chunks/entry.C7gqEXGI.js";import{b as Zt}from"../chunks/paths.Bfeg_zav.js";const $t=()=>{const F=Yt;return{page:{subscribe:F.page.subscribe},navigating:{subscribe:F.navigating.subscribe},updated:F.updated}},Gt={subscribe(F){return $t().page.subscribe(F)}};var Qt=o('<span class="rounded-full bg-pink-500/20 px-3 py-1 text-sm font-medium text-pink-400"> </span>'),Xt=o('<span class="rounded-full bg-red-500/20 px-3 py-1 text-sm font-medium text-red-400"> </span>'),ae=o('<button class="text-gray-400 transition-colors hover:text-white"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button>'),te=o('<div class="rounded px-2 py-1 hover:bg-gray-800/50"><span class="text-sm text-gray-200"> </span></div>'),ee=o('<div class="rounded px-2 py-1"><span class="text-sm text-gray-400">No build options available</span></div>'),se=o('<div class="flex items-center gap-2"><span class="text-gray-500"> </span> <span class="text-gray-200"> </span></div>'),re=o('<div class="flex items-center gap-2"><span class="text-gray-500"> </span> <span class="text-gray-200"> </span></div>'),ie=o('<div class="flex items-center gap-2 rounded px-2 text-sm text-gray-400 hover:bg-gray-800/50"><span> </span> <div class="ml-4 space-y-1"><!></div></div>'),ne=o('<div class="flex items-center gap-2 rounded px-2 hover:bg-gray-800/50"><span class="text-sm text-gray-400"> </span> <span class="text-sm text-gray-200"> </span></div>'),oe=o('<div class="py-1"><!></div>'),le=o('<div><div class="rounded-lg border border-gray-700/50 bg-gray-900/95 p-4 shadow-xl"><div class="max-h-80 overflow-y-auto"><!></div></div></div>'),ve=o('<div class="mt-1 font-medium text-white"> </div>'),de=o('<div class="relative rounded-lg bg-gray-800/50 p-4 transition-colors hover:bg-gray-700/50"><div class="flex items-center justify-between"><span class="text-sm text-gray-400"> </span> <!></div> <!></div>'),ce=o('<div class="flex gap-4"><span class="rounded-full bg-red-500/20 px-3 py-1 text-sm font-medium text-red-400"> </span> <span class="rounded-full bg-blue-500/20 px-3 py-1 text-sm font-medium text-blue-400"> </span></div>'),pe=o('<div class="mb-2 rounded-full bg-yellow-500/20 px-3 py-1 text-xs font-medium text-yellow-400 inline-block">EMP Weapon</div>'),me=o('<div class="mb-2 rounded-full bg-orange-500/20 px-3 py-1 text-xs font-medium text-orange-400 inline-block">Special Weapon</div>'),ue=o('<div class="flex justify-between"><span class="text-gray-400">Burst</span> <span class="font-medium text-green-400"> </span></div>'),ge=o('<div class="rounded-lg border border-gray-700/30 bg-gray-800/50 p-4 transition-colors hover:bg-gray-700/50"><h3 class="mb-2 font-medium text-white"> </h3> <!> <!> <div class="space-y-3 text-sm"><div class="flex justify-between"><span class="text-gray-400">Damage</span> <span class="font-medium text-red-400"> </span></div> <div class="flex justify-between"><span class="text-gray-400">DPS</span> <span class="font-medium text-orange-400"><!></span></div> <!> <div class="flex justify-between"><span class="text-gray-400">Range</span> <span class="font-medium text-blue-400"> </span></div> <div class="flex justify-between"><span class="text-gray-400">Reload Time</span> <span class="font-medium text-purple-400"> </span></div></div></div>'),fe=o('<div class="mt-8 border-t border-gray-700/50 pt-6"><div class="mb-4 flex items-center justify-between"><h3 class="text-lg font-semibold text-white">Weapons</h3> <!></div> <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3"></div></div>'),xe=o('<section class="rounded-xl bg-gray-800/30 p-6"><div class="mb-6 flex items-center gap-3"><svg class="h-6 w-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path></svg> <h2 class="text-xl font-semibold capitalize text-white"> </h2></div> <div class="grid gap-4 md:grid-cols-2 xl:grid-cols-3"></div> <!></section>'),_e=o('<div class="rounded-lg bg-gray-800/50 p-4 transition-colors hover:bg-gray-700/50"><span class="text-sm text-gray-400"> </span> <div class="mt-1 font-medium text-white"> </div></div>'),be=o('<section class="rounded-xl bg-gray-800/30 p-6"><h2 class="text-xl font-semibold text-white">Custom Parameters</h2> <div class="grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"></div></section>'),he=o('<div class="space-y-8"><header class="mb-8"><div class="mb-4 flex items-center justify-between"><h1 class="bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-4xl font-bold text-transparent"> </h1> <a class="rounded-lg bg-gray-800/50 px-4 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-700/50">Back to Explorer</a></div> <div class="flex flex-wrap gap-3"><span class="rounded-full bg-teal-500/20 px-3 py-1 text-sm font-medium text-teal-400"> </span> <span class="rounded-full bg-orange-500/20 px-3 py-1 text-sm font-medium text-orange-400"> </span> <!> <span class="rounded-full bg-purple-500/20 px-3 py-1 text-sm font-medium text-purple-400"> </span> <!></div></header> <!> <!></div>'),ye=o('<div class="flex h-[60vh] items-center justify-center text-center"><div><h2 class="mb-2 text-2xl text-gray-400">Loading unit data...</h2> <p class="text-gray-500">Please wait while we fetch the information.</p></div></div>'),we=o('<div class="min-h-screen bg-gray-900 text-gray-100"><!> <div class="container mx-auto max-w-7xl px-4 py-8"><!></div></div>');function Te(F,Xa){Vt(Xa,!1);const Ca=It(),ct=()=>Qa(Gt,"$page",Ca),at=()=>Qa(Ot,"$unitsData",Ca),Ea=()=>Qa(Bt,"$unitNamesDetails",Ca),va=ct().url.searchParams.get("name");let z=oa(null),D=oa(null),tt=oa(""),et=oa({}),Sa=oa([]);Jt(async()=>{var s,d;await zt(),at()&&Ea()&&(na(z,at()[va]),na(D,((d=(s=e(z))==null?void 0:s.data)==null?void 0:d[va])||{}),na(tt,Ea().units.names[va]||va),na(et,pt(e(D))),na(Sa,Rt(e(D).weapondefs||{})))});function st(){return Lt(e(Sa),e(D),va)}function pt(s){const d=["name","faction","type","subtype","path","description","unitname","side","icontype","script","buildpic","category","customparams"],S=["health","maxdamage","damagemodifier","armorType","seismicdistance","seismicsignature","hidedamage","autoheal","idleautoheal","idletime","mass","footprintx","footprintz"],da=["maxvelocity","acceleration","brakerate","turnradius","turnrate","turninplace","turninplaceanglelimit","turninplacespeedlimit","movementclass","moverate1","cruisealt","cruisealtitude","amphibious","floater","upright","canhover","canfly","canmove","canland","airstrafe","airhoverfactor","hoverattack","leavetracks","trackoffset","trackstretch","trackstrength","tracktype","trackwidth","maxacc","maxdec","speed","transportcapacity"],ca=["canattack","canattackground","canmanualfire","canpatrol","canrepeat","canresurrect","cancloak","cancapture","weapondefs","weapons","radardistance","radardistancejam","sonardistance","sonarstealth","stealth","cloaked","cloakcost","cloakcostmoving","initcloak","firestate","standingmoveorder","strafetoattack","hightrajectory","kamikaze","kamikazedistance","sightdistance","airsightdistance","onlytargetcategory2","exemptcategory","radarEmitHeight","noautofire","nochase","nochasecategory","turret"],Ba=["buildcostenergy","buildcostmetal","buildtime","energycost","energymake","energypershot","energystorage","energyupkeep","extractsmetal","metalcost","metalmake","metalstorage","terraformspeed","workertime","capture","reclaimable","reclaimspeed","repairable","buildoptions"],N={general:{},stats:{},movement:{},combat:{},resources:{},custom:{}};return Object.entries(s).forEach(([g,k])=>{d.includes(g)?N.general[g]=k:S.includes(g)?N.stats[g]=k:da.includes(g)?N.movement[g]=k:ca.includes(g)?N.combat[g]=k:Ba.includes(g)?N.resources[g]=k:N.custom[g]=k}),N}function za(s){return s==null?"â€”":typeof s=="boolean"?s?"Yes":"No":typeof s=="number"?s.toLocaleString():Array.isArray(s)?s.join(", "):s}function rt(s){if(s<60)return`${s}s`;const d=Math.floor(s/60),S=s%60;return S>0?`${d}m ${S}s`:`${d}m`}function it(s,d){return d==="buildtime"&&typeof s=="number"?rt(s/100):d.toLowerCase().includes("time")&&typeof s=="number"?rt(s):za(s)}function nt(s){return typeof s=="object"&&s!==null}let P=oa(new Set);function mt(s){e(P).has(s)?e(P).delete(s):e(P).add(s),na(P,e(P))}function ut(s){const d={general:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stats:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",movement:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z",combat:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064",resources:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",custom:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"};return d[s]||d.general}function gt(s){if(!s)return"bottom";const d=s.getBoundingClientRect();return window.innerHeight-d.bottom<400?"top":"bottom"}qt();var Oa=we(),ot=t(Oa);Et(ot);var lt=r(ot,2),ft=t(lt);{var xt=s=>{var d=he(),S=t(d),da=t(S),ca=t(da),Ba=t(ca,!0);a(ca);var N=r(ca,2);Ga(N,"href",`${Zt??""}/explore`),a(da);var g=r(da,2),k=t(g),bt=t(k,!0);a(k);var Aa=r(k,2),ht=t(Aa,!0);a(Aa);var vt=r(Aa,2);{var yt=_=>{var f=Qt(),j=t(f,!0);a(f),v(()=>n(j,e(z).subtype)),i(_,f)};m(vt,_=>{e(z).subtype!=="none"&&_(yt)})}var Ta=r(vt,2),wt=t(Ta);a(Ta);var kt=r(Ta,2);{var jt=_=>{var f=Xt(),j=t(f,!0);v(()=>n(j,Wt(e(D))?"Mine":"Suicide Unit")),a(f),i(_,f)};m(kt,_=>{Ut(e(D))&&_(jt)})}a(g),a(S);var dt=r(S,2);U(dt,1,()=>Object.entries(e(et)),W,(_,f)=>{let j=()=>e(f)[0],Ha=()=>e(f)[1];var Z=xe(),pa=t(Z),ma=t(pa),ua=t(ma);v(()=>Ga(ua,"d",ut(j()))),a(ma);var $=r(ma,2),Ra=t($,!0);a($),a(pa);var G=r(pa,2);U(G,5,()=>Object.entries(Ha()),W,(ga,Q)=>{let b=()=>e(Q)[0],O=()=>e(Q)[1];var fa=de(),X=t(fa),V=t(X),c=t(V,!0);v(()=>n(c,b().replace(/([A-Z])/g," $1"))),a(V);var B=r(V,2);{var C=h=>{var p=ae();v(()=>Ga(p,"aria-label",e(P).has(b())?"Collapse details":"Expand details"));var A=t(p);const T=$a(()=>`h-5 w-5 transform transition-transform ${(e(P).has(b())?"rotate-180":"")??""}`);a(p),v(()=>At(A,e(T))),Ht("click",p,()=>mt(b())),i(h,p)};m(B,h=>{nt(O())&&h(C)})}a(X);var xa=r(X,2);{var L=h=>{var p=le();const A=$a(()=>`absolute z-10 w-96 ${(gt(e(P).has(b())?document.activeElement:null)==="top"?"bottom-full mb-2":"top-full mt-2")??""}`);var T=t(p),ba=t(T),Wa=t(ba);{var ha=H=>{var K=ia(),ya=la(K);U(ya,1,()=>Object.values(O()),W,(aa,ta)=>{var x=te(),M=t(x),wa=t(M);a(M),a(x),v(()=>{var q,R,E;return n(wa,`${e(ta)??""} (${((E=(R=(q=Ea())==null?void 0:q.units)==null?void 0:R.names)==null?void 0:E[e(ta)])||"Unknown"})`)}),i(aa,x)}),i(H,K)},Na=H=>{var K=ia(),ya=la(K);{var aa=x=>{var M=ee();i(x,M)},ta=x=>{var M=ia(),wa=la(M);U(wa,1,()=>Object.entries(O()),W,(q,R)=>{let E=()=>e(R)[0],l=()=>e(R)[1];var u=oe(),ea=t(u);{var ka=y=>{var w=ie(),I=t(w),La=t(I);a(I);var ja=r(I,2),Ka=t(ja);{var St=sa=>{var Ma=ia(),qa=la(Ma);U(qa,1,()=>Object.entries(l()),W,(Ia,Da)=>{let Va=()=>e(Da)[0],ra=()=>e(Da)[1];var J=se(),Y=t(J),Ja=t(Y);a(Y);var Pa=r(Y,2),Ya=t(Pa,!0);a(Pa),a(J),v(()=>{n(Ja,`${(Va()==="default"?"Base":Va())??""}:`),n(Ya,ra())}),i(Ia,J)}),i(sa,Ma)},Nt=sa=>{var Ma=ia(),qa=la(Ma);U(qa,1,()=>Object.entries(l()),W,(Ia,Da)=>{let Va=()=>e(Da)[0],ra=()=>e(Da)[1];var J=re(),Y=t(J),Ja=t(Y);a(Y);var Pa=r(Y,2),Ya=t(Pa,!0);v(()=>n(Ya,typeof ra()=="object"&&ra()!==null?JSON.stringify(ra(),null,2):za(ra()))),a(Pa),a(J),v(()=>n(Ja,`${Va()??""}:`)),i(Ia,J)}),i(sa,Ma)};m(Ka,sa=>{E()==="damage"?sa(St):sa(Nt,!1)})}a(ja),a(w),v(()=>n(La,`${E()??""}:`)),i(y,w)},Fa=y=>{var w=ne(),I=t(w),La=t(I);a(I);var ja=r(I,2),Ka=t(ja,!0);v(()=>n(Ka,it(l(),E()))),a(ja),a(w),v(()=>n(La,`${E()??""}:`)),i(y,w)};m(ea,y=>{typeof l()=="object"&&l()!==null?y(ka):y(Fa,!1)})}a(u),i(q,u)}),i(x,M)};m(ya,x=>{b()==="buildoptions"?x(aa):x(ta,!1)},!0)}i(H,K)};m(Wa,H=>{b()==="buildoptions"&&Object.values(O()).length>0?H(ha):H(Na,!1)})}a(ba),a(T),a(p),v(()=>Tt(p,e(A))),Ft(3,p,()=>Kt),i(h,p)},_a=h=>{var p=ve(),A=t(p,!0);v(()=>n(A,it(O(),b()))),a(p),i(h,p)};m(xa,h=>{nt(O())&&e(P).has(b())?h(L):h(_a,!1)})}a(fa),i(ga,fa)}),a(G);var Ua=r(G,2);{var Pt=ga=>{var Q=fe(),b=t(Q),O=r(t(b),2);{var fa=V=>{var c=ce();const B=$a(st);var C=t(c),xa=t(C);a(C);var L=r(C,2),_a=t(L);a(L),a(c),v(()=>{n(xa,`Total DPS: ${e(B).totalDps??""}`),n(_a,`Max Range: ${e(B).maxRange??""}`)}),i(V,c)};m(O,V=>{st()&&V(fa)})}a(b);var X=r(b,2);U(X,5,()=>e(Sa),W,(V,c)=>{var B=ge(),C=t(B),xa=t(C,!0);a(C);var L=r(C,2);{var _a=l=>{var u=pe();i(l,u)};m(L,l=>{e(c).isEMP&&l(_a)})}var h=r(L,2);{var p=l=>{var u=me();i(l,u)};m(h,l=>{e(c).isNotFlame&&l(p)})}var A=r(h,2),T=t(A),ba=r(t(T),2),Wa=t(ba,!0);a(ba),a(T);var ha=r(T,2),Na=r(t(ha),2),H=t(Na);{var K=l=>{var u=Za("N/A (EMP)");i(l,u)},ya=l=>{var u=ia(),ea=la(u);{var ka=y=>{var w=Za("N/A (Special)");i(y,w)},Fa=y=>{var w=Za();v(()=>n(w,e(c).dps)),i(y,w)};m(ea,y=>{e(c).isNotFlame?y(ka):y(Fa,!1)},!0)}i(l,u)};m(H,l=>{e(c).isEMP?l(K):l(ya,!1)})}a(Na),a(ha);var aa=r(ha,2);{var ta=l=>{var u=ue(),ea=r(t(u),2),ka=t(ea);a(ea),a(u),v(()=>n(ka,`x${e(c).burstCount??""}`)),i(l,u)};m(aa,l=>{e(c).burstCount>1&&l(ta)})}var x=r(aa,2),M=r(t(x),2),wa=t(M,!0);a(M),a(x);var q=r(x,2),R=r(t(q),2),E=t(R);a(R),a(q),a(A),a(B),v(()=>{n(xa,e(c).type),n(Wa,e(c).damage),n(wa,e(c).range),n(E,`${e(c).reloadTime??""}s`)}),i(V,B)}),a(X),a(Q),i(ga,Q)};m(Ua,ga=>{j()==="combat"&&e(Sa).length>0&&ga(Pt)})}a(Z),v(()=>n(Ra,j())),i(_,Z)});var Mt=r(dt,2);{var Dt=_=>{var f=be(),j=r(t(f),2);U(j,5,()=>Object.entries(e(D).customparams),W,(Ha,Z)=>{let pa=()=>e(Z)[0],ma=()=>e(Z)[1];var ua=_e(),$=t(ua),Ra=t($,!0);a($);var G=r($,2),Ua=t(G,!0);v(()=>n(Ua,za(ma()))),a(G),a(ua),v(()=>n(Ra,pa())),i(Ha,ua)}),a(j),a(f),i(_,f)};m(Mt,_=>{e(D).customparams&&_(Dt)})}a(d),v(()=>{n(Ba,e(tt)),n(bt,e(z).faction==="arm"?"Armada":"Cortex"),n(ht,e(z).type),n(wt,`Tech ${e(z).tech_level??""}`)}),i(s,d)},_t=s=>{var d=ye();i(s,d)};m(ft,s=>{e(z)&&e(D)?s(xt):s(_t,!1)})}a(lt),a(Oa),i(F,Oa),Ct()}export{Te as component};
